{"version":3,"sources":["webpack:///./src/views/dashboard/Products.vue","webpack:///./src/components/ProductModal.vue","webpack:///./src/components/ProductModal.vue?684b","webpack:///./src/views/dashboard/Products.vue?756c","webpack:///./node_modules/core-js/modules/es.symbol.description.js"],"names":["class","style","width","type","openModal","delProducts","products","item","key","id","imageUrl","title","price","origin_price","is_enabled","delProduct","page","pagination","getProducts","product","tempProduct","is-new","isNew","updateProduct","ref","tabindex","aria-labelledby","aria-hidden","data-bs-dismiss","aria-label","for","getImgData","accept","placeholder","uploadImg","disabled","imgData","src","Array","isArray","imagesUrl","push","pop","category","unit","min","description","content","true-value","false-value","$emit","props","data","this","mixins","modal","methods","e","file","target","files","formData","FormData","append","$http","post","then","res","success","$refs","value","alert","message","catch","err","console","log","watch","render","name","isLoading","components","Pagination","ProductModal","created","url","get","$swal","icon","showCancelButton","cancelButtonText","status","productModal","method","hideModal","confirmButtonText","result","isConfirmed","delete","$","DESCRIPTORS","global","has","isObject","defineProperty","f","copyConstructorProperties","NativeSymbol","Symbol","prototype","undefined","EmptyStringDescriptionStore","SymbolWrapper","arguments","length","String","symbolPrototype","constructor","symbolToString","toString","native","regexp","configurable","symbol","valueOf","string","call","desc","slice","replace","forced"],"mappings":"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","file":"js/chunk-6b53a2e6.d420d990.js","sourcesContent":["<template>\n  <Loading :isLoading=\"isLoading\"/>\n  <div class=\"container\">\n    <div class=\"text-end my-4\">\n      <button\n        type=\"button\"\n        class=\"btn btn-primary me-2\"\n        @click.prevent=\"openModal({}, 'new')\"\n      >\n        新增產品\n      </button>\n      <button type=\"button\" class=\"btn btn-outline-danger\" @click.prevent=\"delProducts\">\n        刪除全部產品\n      </button>\n    </div>\n    <div class=\"table-responsive\">\n      <table class=\"table\" style=\"min-width: 600px;\">\n        <thead>\n          <tr>\n            <th class=\"d-none d-md-table-cell\">產品圖片</th>\n            <th>產品名稱</th>\n            <th>原價</th>\n            <th>售價</th>\n            <th width=\"120\">狀態</th>\n            <th width=\"150\">編輯 / 刪除</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"item in products\" :key=\"item.id\">\n            <td class=\"d-none d-md-table-cell\">\n              <div\n                  style=\"\n                    height: 100px;\n                    background-size: cover;\n                    background-position: center;\n                  \"\n                  :style=\"{ 'background-image': `url(${item.imageUrl})` }\"\n                ></div>\n            </td>\n            <td>{{ item.title }}</td>\n            <td>NT$ {{ item.price }}</td>\n            <td>NT$ {{ item.origin_price }}</td>\n            <td>\n              <span v-if=\"item.is_enabled\" class=\"text-success\">啟用</span>\n              <span v-else>未啟用</span>\n            </td>\n            <td>\n              <div class=\"btn-group\">\n                <button\n                  type=\"button\"\n                  class=\"btn btn-sm btn-outline-secondary\"\n                  @click=\"openModal(item, 'edit')\"\n                >\n                  編輯\n                </button>\n                <button\n                  type=\" button\"\n                  class=\"btn btn-sm btn-outline-danger\"\n                  @click=\"delProduct(item.id)\"\n                >\n                  刪除\n                </button>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n  </div>\n  <div class=\"d-flex justify-content-center\">\n    <Pagination\n      :page=\"pagination\"\n      @get-data=\"getProducts\"\n    ></Pagination>\n  </div>\n  <ProductModal\n    :product=\"tempProduct\"\n    :is-new=\"isNew\"\n    @update-product=\"updateProduct\"\n    ref=\"productModal\"\n    ></ProductModal>\n</template>\n\n<script>\nimport ProductModal from '@/components/ProductModal.vue';\nimport Pagination from '@/components/Pagination.vue';\n\nexport default {\n  name: 'Products',\n  data() {\n    return {\n      products: [],\n      tempProduct: {},\n      pagination: {},\n      isNew: false,\n      isLoading: false,\n    };\n  },\n  components: {\n    Pagination,\n    ProductModal,\n  },\n  created() {\n    this.getProducts();\n  },\n  methods: {\n    getProducts(page = 1) {\n      this.isLoading = true;\n      console.log(this.isLoading);\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products?page=${page}`;\n      this.$http.get(url)\n        .then((res) => {\n          if (res.data.success) {\n            this.products = res.data.products;\n            this.pagination = res.data.pagination;\n            this.isLoading = false;\n          } else {\n            this.$swal({\n              title: res.data.message,\n              icon: 'error',\n              showCancelButton: true,\n              cancelButtonText: '取消',\n            });\n          }\n        }).catch((err) => {\n          console.log(err);\n        });\n    },\n    openModal(item, status) {\n      const { productModal } = this.$refs;\n      this.tempProduct = { ...item };\n      switch (status) {\n        case 'new':\n          this.isNew = true;\n          productModal.openModal();\n          break;\n        case 'edit':\n          this.isNew = false;\n          productModal.openModal();\n          break;\n        default:\n          break;\n      }\n    },\n    updateProduct() {\n      this.isLoading = true;\n      const { productModal } = this.$refs;\n      const method = this.isNew ? 'post' : 'put';\n      const id = this.isNew ? '' : `${this.tempProduct.id}`;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${id}`;\n\n      this.$http[method](url, { data: this.tempProduct })\n        .then((res) => {\n          if (res.data.success) {\n            this.$swal({\n              title: res.data.message,\n              icon: 'success',\n            });\n            this.getProducts();\n            productModal.hideModal();\n            this.isLoading = false;\n          } else {\n            this.$swal({\n              title: res.data.message,\n              icon: 'error',\n              showCancelButton: true,\n              cancelButtonText: '取消',\n            });\n            this.isLoading = false;\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    delProduct(id) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${id}`;\n      this.$swal({\n        icon: 'warning',\n        title: '確定要刪除嗎？',\n        showCancelButton: true,\n        confirmButtonText: '確定',\n        cancelButtonText: '取消',\n      }).then((result) => {\n        if (result.isConfirmed) {\n          this.isLoading = true;\n          this.$http.delete(url).then((res) => {\n            if (res.data.success) {\n              this.isLoading = false;\n              this.$swal(res.data.message, '', 'success');\n              this.getProducts();\n            } else {\n              this.$swal({\n                title: res.data.message,\n                icon: 'error',\n                showCancelButton: true,\n                cancelButtonText: '取消',\n              });\n            }\n          });\n        }\n      });\n    },\n    delProducts() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products/all`;\n      this.$swal({\n        icon: 'warning',\n        title: '確定要全部刪除嗎？',\n        showCancelButton: true,\n        confirmButtonText: '確定',\n        cancelButtonText: '取消',\n      }).then((result) => {\n        if (result.isConfirmed) {\n          this.isLoading = true;\n          this.$http.delete(url).then((res) => {\n            if (res.data.success) {\n              this.isLoading = false;\n              this.$swal(res.data.message, '', 'success');\n              this.getProducts();\n            } else {\n              this.$swal({\n                title: res.data.message,\n                icon: 'error',\n                showCancelButton: true,\n                cancelButtonText: '取消',\n              });\n            }\n          });\n        }\n      });\n    },\n  },\n};\n</script>\n","<template>\n  <div\n    id=\"productModal\"\n    class=\"modal fade\"\n    tabindex=\"-1\"\n    aria-labelledby=\"productModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog modal-xl\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-dark text-white\">\n          <h5 id=\"productModalLabel\" class=\"modal-title\">\n            <span v-if=\"isNew\">新增產品</span>\n            <span v-else>編輯產品</span>\n          </h5>\n          <button\n            type=\"button\"\n            class=\"btn-close bg-white\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body text-start text-dark\">\n          <div class=\"row\">\n            <div class=\"col-sm-4\">\n              <div class=\"mb-1\">\n                <div class=\"form-group\">\n                  <div class=\"input-group mb-1\">\n                    <input\n                      @change=\"getImgData\"\n                      id=\"imageUrl\"\n                      type=\"file\"\n                      accept=\".jpg, .png\"\n                      class=\"form-control\"\n                      placeholder=\"drag picture to here\"\n                      ref=\"imageUrl\"\n                    />\n                    <button\n                      @click=\"uploadImg\"\n                      :disabled=\"!imgData\"\n                      class=\"btn btn-sm btn-outline-success flex-shrink-0\"\n                      type=\"button\"\n                    >\n                      確定上傳\n                    </button>\n                  </div>\n                  <img class=\"img-fluid\" :src=\"tempProduct.imageUrl\">\n                </div>\n              </div>\n              <div class=\"mb-1\">多圖新增</div>\n              <div v-if=\"Array.isArray(tempProduct.imagesUrl)\">\n                <div v-for=\"(item, key) in tempProduct.imagesUrl\" :key=\"key\" class=\"mb-1\">\n                  <div class=\"form-group\">\n                    <label for=\"imageUrl\">輸入圖片網址</label>\n                    <input\n                      v-model=\"tempProduct.imagesUrl[key]\"\n                      type=\"text\"\n                      class=\"form-control\"\n                      placeholder=\"請輸入圖片連結\"\n                    />\n                  </div>\n                  <img class=\"img-fluid\" :src=\"item\" />\n                </div>\n                <div\n                  v-if=\"\n                    !tempProduct.imagesUrl.length ||\n                      tempProduct.imagesUrl[tempProduct.imagesUrl.length - 1]\n                  \"\n                >\n                  <button\n                    @click=\"tempProduct.imagesUrl.push('')\"\n                    class=\"btn btn-outline-primary btn-sm d-block w-100\"\n                  >\n                    新增圖片\n                  </button>\n                </div>\n                <div v-else>\n                  <button\n                    @click=\"tempProduct.imagesUrl.pop()\"\n                    class=\"btn btn-outline-danger btn-sm d-block w-100\"\n                  >\n                    刪除圖片\n                  </button>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-sm-8\">\n              <div class=\"form-group\">\n                <label for=\"title\">標題</label>\n                <input\n                  v-model.trim=\"tempProduct.title\"\n                  id=\"title\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  placeholder=\"請輸入標題\"\n                />\n              </div>\n\n              <div class=\"row\">\n                <div class=\"form-group col-md-6\">\n                  <label for=\"category\">分類</label>\n                  <input\n                    v-model.trim=\"tempProduct.category\"\n                    id=\"category\"\n                    type=\"text\"\n                    class=\"form-control\"\n                    placeholder=\"請輸入分類\"\n                  />\n                </div>\n                <div class=\"form-group col-md-6\">\n                  <label for=\"unit\">單位</label>\n                  <input\n                    v-model.trim=\"tempProduct.unit\"\n                    id=\"unit\"\n                    type=\"text\"\n                    class=\"form-control\"\n                    placeholder=\"請輸入單位\"\n                  />\n                </div>\n              </div>\n\n              <div class=\"row\">\n                <div class=\"form-group col-md-6\">\n                  <label for=\"origin_price\">原價</label>\n                  <input\n                    v-model.number=\"tempProduct.origin_price\"\n                    id=\"origin_price\"\n                    type=\"number\"\n                    min=\"0\"\n                    class=\"form-control\"\n                    placeholder=\"請輸入原價\"\n                  />\n                </div>\n                <div class=\"form-group col-md-6\">\n                  <label for=\"price\">售價</label>\n                  <input\n                    v-model.number=\"tempProduct.price\"\n                    id=\"price\"\n                    type=\"number\"\n                    min=\"0\"\n                    class=\"form-control\"\n                    placeholder=\"請輸入售價\"\n                  />\n                </div>\n              </div>\n              <hr />\n              <div class=\"form-group\">\n                <label for=\"description\">產品描述</label>\n                <textarea\n                  v-model.trim=\"tempProduct.description\"\n                  id=\"description\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  placeholder=\"請輸入產品描述\"\n                >\n                </textarea>\n              </div>\n              <div class=\"form-group\">\n                <label for=\"content\">說明內容</label>\n                <textarea\n                  v-model.trim=\"tempProduct.content\"\n                  id=\"content\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  placeholder=\"請輸入說明內容\"\n                >\n                </textarea>\n              </div>\n              <div class=\"form-group\">\n                <div class=\"form-check\">\n                  <input\n                    v-model=\"tempProduct.is_enabled\"\n                    id=\"is_enabled\"\n                    class=\"form-check-input\"\n                    type=\"checkbox\"\n                    :true-value=\"1\"\n                    :false-value=\"0\"\n                  />\n                  <label class=\"form-check-label\" for=\"is_enabled\">是否啟用</label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-outline-secondary\" data-bs-dismiss=\"modal\">\n            取消\n          </button>\n          <button\n            @click=\"$emit('update-product', tempProduct)\"\n            type=\"button\"\n            class=\"btn btn-primary\"\n          >\n            確認\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modal from '../mixins/modal';\n\nexport default {\n  props: ['product', 'isNew'],\n  data() {\n    return {\n      imgData: null,\n      tempProduct: { ...this.product },\n    };\n  },\n  mixins: [modal],\n  methods: {\n    getImgData(e) {\n      const file = e.target.files[0];\n      const formData = new FormData();\n      formData.append('file-to-upload', file);\n      this.imgData = formData;\n    },\n    uploadImg() {\n      this.$http\n        .post(\n          `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`,\n          this.imgData,\n        )\n        .then((res) => {\n          if (res.data.success) {\n            this.imgData = null;\n            this.$refs.imageUrl.value = '';\n            if (this.isNew === 'new') {\n              this.tempProduct.imageUrl = res.data.imageUrl;\n            } else if (this.isNew === 'edit') {\n              this.tempProduct.imagesUrl.push(res.data.imageUrl);\n            }\n          } else {\n            alert(res.data.message);\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n  },\n  watch: {\n    product() {\n      this.tempProduct = this.product;\n      if (!this.tempProduct.imagesUrl) {\n        this.tempProduct.imagesUrl = [];\n      }\n      if (!this.tempProduct.imageUrl) {\n        this.tempProduct.imageUrl = '';\n      }\n    },\n  },\n};\n</script>\n","import { render } from \"./ProductModal.vue?vue&type=template&id=42e1b3ea\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Products.vue?vue&type=template&id=ae60c7c8\"\nimport script from \"./Products.vue?vue&type=script&lang=js\"\nexport * from \"./Products.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n"],"sourceRoot":""}