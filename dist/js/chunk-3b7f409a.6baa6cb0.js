(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b7f409a"],{"107c":function(e,t,a){var n=a("d039");e.exports=n((function(){var e=RegExp("(?<a>b)","string".charAt(5));return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},1276:function(e,t,a){"use strict";var n=a("d784"),c=a("44e7"),l=a("825a"),s=a("1d80"),r=a("4840"),d=a("8aa5"),o=a("50c4"),i=a("14c3"),u=a("9263"),b=a("9f7f"),O=a("d039"),p=b.UNSUPPORTED_Y,g=[].push,m=Math.min,j=4294967295,f=!O((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var a="ab".split(e);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));n("split",(function(e,t,a){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,a){var n=String(s(this)),l=void 0===a?j:a>>>0;if(0===l)return[];if(void 0===e)return[n];if(!c(e))return t.call(n,e,l);var r,d,o,i=[],b=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),O=0,p=new RegExp(e.source,b+"g");while(r=u.call(p,n)){if(d=p.lastIndex,d>O&&(i.push(n.slice(O,r.index)),r.length>1&&r.index<n.length&&g.apply(i,r.slice(1)),o=r[0].length,O=d,i.length>=l))break;p.lastIndex===r.index&&p.lastIndex++}return O===n.length?!o&&p.test("")||i.push(""):i.push(n.slice(O)),i.length>l?i.slice(0,l):i}:"0".split(void 0,0).length?function(e,a){return void 0===e&&0===a?[]:t.call(this,e,a)}:t,[function(t,a){var c=s(this),l=void 0==t?void 0:t[e];return void 0!==l?l.call(t,c,a):n.call(String(c),t,a)},function(e,c){var s=a(n,this,e,c,n!==t);if(s.done)return s.value;var u=l(this),b=String(e),O=r(u,RegExp),g=u.unicode,f=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(p?"g":"y"),h=new O(p?"^(?:"+u.source+")":u,f),v=void 0===c?j:c>>>0;if(0===v)return[];if(0===b.length)return null===i(h,b)?[b]:[];var x=0,y=0,w=[];while(y<b.length){h.lastIndex=p?0:y;var k,M=i(h,p?b.slice(y):b);if(null===M||(k=m(o(h.lastIndex+(p?y:0)),b.length))===x)y=d(b,y,g);else{if(w.push(b.slice(x,y)),w.length===v)return w;for(var C=1;C<=M.length-1;C++)if(w.push(M[C]),w.length===v)return w;y=x=k}}return w.push(b.slice(x)),w}]}),!f,p)},"14c3":function(e,t,a){var n=a("c6b6"),c=a("9263");e.exports=function(e,t){var a=e.exec;if("function"===typeof a){var l=a.call(e,t);if("object"!==typeof l)throw TypeError("RegExp exec method returned something other than an Object or null");return l}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return c.call(e,t)}},"44e7":function(e,t,a){var n=a("861d"),c=a("c6b6"),l=a("b622"),s=l("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==c(e))}},"8aa5":function(e,t,a){"use strict";var n=a("6547").charAt;e.exports=function(e,t,a){return t+(a?n(e,t).length:1)}},9263:function(e,t,a){"use strict";var n=a("ad6d"),c=a("9f7f"),l=a("5692"),s=a("7c73"),r=a("69f3").get,d=a("fce3"),o=a("107c"),i=RegExp.prototype.exec,u=l("native-string-replace",String.prototype.replace),b=i,O=function(){var e=/a/,t=/b*/g;return i.call(e,"a"),i.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),p=c.UNSUPPORTED_Y||c.BROKEN_CARET,g=void 0!==/()??/.exec("")[1],m=O||g||p||d||o;m&&(b=function(e){var t,a,c,l,d,o,m,j=this,f=r(j),h=f.raw;if(h)return h.lastIndex=j.lastIndex,t=b.call(h,e),j.lastIndex=h.lastIndex,t;var v=f.groups,x=p&&j.sticky,y=n.call(j),w=j.source,k=0,M=e;if(x&&(y=y.replace("y",""),-1===y.indexOf("g")&&(y+="g"),M=String(e).slice(j.lastIndex),j.lastIndex>0&&(!j.multiline||j.multiline&&"\n"!==e[j.lastIndex-1])&&(w="(?: "+w+")",M=" "+M,k++),a=new RegExp("^(?:"+w+")",y)),g&&(a=new RegExp("^"+w+"$(?!\\s)",y)),O&&(c=j.lastIndex),l=i.call(x?a:j,M),x?l?(l.input=l.input.slice(k),l[0]=l[0].slice(k),l.index=j.lastIndex,j.lastIndex+=l[0].length):j.lastIndex=0:O&&l&&(j.lastIndex=j.global?l.index+l[0].length:c),g&&l&&l.length>1&&u.call(l[0],a,(function(){for(d=1;d<arguments.length-2;d++)void 0===arguments[d]&&(l[d]=void 0)})),l&&v)for(l.groups=o=s(null),d=0;d<v.length;d++)m=v[d],o[m[0]]=l[m[1]];return l}),e.exports=b},"9f7f":function(e,t,a){var n=a("d039"),c=function(e,t){return RegExp(e,t)};t.UNSUPPORTED_Y=n((function(){var e=c("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=c("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},ac1f:function(e,t,a){"use strict";var n=a("23e7"),c=a("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==c},{exec:c})},ad6d:function(e,t,a){"use strict";var n=a("825a");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b06d:function(e,t,a){"use strict";a.r(t);a("ac1f"),a("1276"),a("b0c0");var n=a("7a23"),c={class:"container"},l={class:"text-end my-4"},s={class:"table-responsive-lg"},r={class:"table",style:{"min-width":"900px"}},d=Object(n["g"])("thead",null,[Object(n["g"])("tr",null,[Object(n["g"])("th",null,"購買時間"),Object(n["g"])("th",null,"訂單編號"),Object(n["g"])("th",{class:"d-none d-md-table-cell"},"購買人姓名"),Object(n["g"])("th",{class:"d-none d-md-table-cell"},"購買人電話"),Object(n["g"])("th",{class:"d-none d-md-table-cell"},"應付金額"),Object(n["g"])("th",null,"訂單狀態"),Object(n["g"])("th",null,"查看訂單"),Object(n["g"])("th",null,"編輯 / 刪除")])],-1),o={class:"d-none d-md-table-cell"},i={class:"d-none d-md-table-cell"},u={class:"d-none d-md-table-cell"},b={class:"btn-group"},O={class:"d-flex justify-content-center"};function p(e,t,a,p,g,m){var j=Object(n["x"])("Loading"),f=Object(n["x"])("Pagination"),h=Object(n["x"])("OrderModal"),v=Object(n["x"])("DetailModal"),x=Object(n["x"])("StatusModal");return Object(n["s"])(),Object(n["d"])(n["a"],null,[Object(n["g"])(j,{isLoading:g.isLoading},null,8,["isLoading"]),Object(n["g"])("div",c,[Object(n["g"])("div",l,[Object(n["g"])("button",{type:"button",class:"btn btn-outline-danger",onClick:t[1]||(t[1]=Object(n["J"])((function(){return m.delAllOrders&&m.delAllOrders.apply(m,arguments)}),["prevent"]))}," 刪除全部訂單 ")]),Object(n["g"])("div",s,[Object(n["g"])("table",r,[d,Object(n["g"])("tbody",null,[(Object(n["s"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(g.orders,(function(e){return Object(n["s"])(),Object(n["d"])("tr",{key:e.id},[Object(n["g"])("td",null,Object(n["A"])(new Date(1e3*e.create_at).toISOString().split("T")[0]),1),Object(n["g"])("td",null,Object(n["A"])(e.id),1),Object(n["g"])("td",o,Object(n["A"])(e.user.name),1),Object(n["g"])("td",i,Object(n["A"])(e.user.tel),1),Object(n["g"])("td",u,Object(n["A"])(e.total),1),Object(n["g"])("td",null,[e.is_paid||"cancel"===e.status?Object(n["e"])("",!0):(Object(n["s"])(),Object(n["d"])("div",{key:0,class:"btn btn-sm btn-outline-info",onClick:function(t){return m.openModal(e,"status")}}," 等待付款中 ",8,["onClick"])),e.is_paid&&"finish"!==e.status&&"cancel"!==e.status?(Object(n["s"])(),Object(n["d"])("div",{key:1,class:"btn btn-sm btn-outline-primary",onClick:function(t){return m.openModal(e,"status")}}," 處理中 ",8,["onClick"])):Object(n["e"])("",!0),"finish"===e.status?(Object(n["s"])(),Object(n["d"])("div",{key:2,class:"btn btn-sm btn-outline-success",onClick:function(t){return m.openModal(e,"status")}}," 完成 ",8,["onClick"])):Object(n["e"])("",!0),"cancel"===e.status?(Object(n["s"])(),Object(n["d"])("div",{key:3,class:"btn btn-sm btn-outline-secondary",onClick:function(t){return m.openModal(e,"status")}}," 取消 ",8,["onClick"])):Object(n["e"])("",!0)]),Object(n["g"])("td",null,[Object(n["g"])("button",{class:"btn btn-sm btn-outline-secondary",onClick:function(t){return m.openModal(e,"detail")}}," 查看 ",8,["onClick"])]),Object(n["g"])("td",null,[Object(n["g"])("div",b,[Object(n["g"])("button",{type:"button",class:"btn btn-sm btn-outline-secondary",onClick:function(t){return m.openModal(e,"edit")}}," 編輯 ",8,["onClick"]),Object(n["g"])("button",{type:" button",class:"btn btn-sm btn-outline-danger",onClick:function(t){return m.delOrder(e.id)}}," 刪除 ",8,["onClick"])])])])})),128))])])])]),Object(n["g"])("div",O,[Object(n["g"])(f,{page:g.pagination,onGetData:m.getOrders},null,8,["page","onGetData"])]),Object(n["g"])(h,{order:g.tempOrder,onUpdateOrder:m.updateOrder,ref:"orderModal"},null,8,["order","onUpdateOrder"]),Object(n["g"])(v,{order:g.tempOrder,ref:"detailModal"},null,8,["order"]),Object(n["g"])(x,{order:g.tempOrder,status:g.status,onEmitStatus:m.updateOrder,ref:"statusModal"},null,8,["order","status","onEmitStatus"])],64)}var g=a("5530"),m=(a("99af"),a("1799")),j={id:"orderModal",class:"modal fade",tabindex:"-1","aria-labelledby":"orderModalLabel","aria-hidden":"true",ref:"modal"},f={class:"modal-dialog modal-xl"},h={class:"modal-content border-0"},v=Object(n["g"])("div",{class:"modal-header bg-dark text-white"},[Object(n["g"])("h5",{id:"orderModalLabel",class:"modal-title"},"編輯訂單"),Object(n["g"])("button",{type:"button",class:"btn-close bg-white","data-bs-dismiss":"modal","aria-label":"Close"})],-1),x={class:"modal-body"},y={class:"row"},w={class:"col-md-6"},k={class:"row mb-2"},M={class:"form-group col-md-6"},C=Object(n["g"])("label",{for:"id",class:"mb-2"},"訂單編號",-1),E={class:"form-group col-md-6"},A=Object(n["g"])("label",{for:"time",class:"mb-2"},"購買時間",-1),I={class:"row mb-2"},_={class:"form-group col-md-6"},S=Object(n["g"])("label",{class:"mb-2"},"是否付款",-1),R={key:0},T={key:1},$={key:0,class:"form-group col-md-6"},L=Object(n["g"])("label",{for:"paidTime",class:"mb-2"},"付款時間",-1),U={class:"row mb-2"},B={class:"form-group col-md-6"},D=Object(n["g"])("label",{for:"payment",class:"mb-2"},"付款方式",-1),V={class:"form-group col-md-6"},N=Object(n["g"])("label",{for:"message",class:"mb-2"},"留言",-1),P=Object(n["g"])("hr",null,null,-1),J={key:0,class:"row mb-2"},Y={class:"form-group col-md-6"},q=Object(n["g"])("label",{for:"name",class:"mb-2"},"購買人姓名",-1),G={class:"form-group col-md-6"},K=Object(n["g"])("label",{for:"tel",class:"mb-2"},"購買人電話",-1),F={key:1,class:"row"},z={class:"form-group col-md-6"},H=Object(n["g"])("label",{for:"address",class:"mb-2"},"購買人地址",-1),Q={class:"form-group col-md-6"},W=Object(n["g"])("label",{for:"email",class:"mb-2"},"購買人信箱",-1),X={class:"col-md-6"},Z=Object(n["g"])("h3",{class:"mb-3"},"產品資訊",-1),ee={class:"list-unstyled"},te={class:"modal-footer"},ae=Object(n["g"])("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ",-1);function ne(e,t,a,c,l,s){return Object(n["s"])(),Object(n["d"])("div",j,[Object(n["g"])("div",f,[Object(n["g"])("div",h,[v,Object(n["g"])("div",x,[Object(n["g"])("div",y,[Object(n["g"])("div",w,[Object(n["g"])("div",k,[Object(n["g"])("div",M,[C,Object(n["I"])(Object(n["g"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return l.tempOrder.id=e}),id:"id",class:"form-control bg-white border-0",readonly:""},null,512),[[n["E"],l.tempOrder.id]])]),Object(n["g"])("div",E,[A,Object(n["I"])(Object(n["g"])("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return l.tempOrder.create_at=e}),id:"time",class:"form-control bg-white border-0",readonly:""},null,512),[[n["E"],l.tempOrder.create_at]])])]),Object(n["g"])("div",I,[Object(n["g"])("div",_,[S,Object(n["g"])("div",null,[l.tempOrder.is_paid?(Object(n["s"])(),Object(n["d"])("span",R,"已付款")):(Object(n["s"])(),Object(n["d"])("span",T,"未付款"))])]),l.tempOrder.is_paid?(Object(n["s"])(),Object(n["d"])("div",$,[L,Object(n["I"])(Object(n["g"])("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=function(e){return l.tempOrder.paid_date=e}),id:"paidTime",class:"form-control bg-white border-0",readonly:""},null,512),[[n["E"],l.tempOrder.paid_date]])])):Object(n["e"])("",!0)]),Object(n["g"])("div",U,[Object(n["g"])("div",B,[D,Object(n["I"])(Object(n["g"])("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=function(e){return l.tempOrder.payment_method=e}),id:"payment",class:"form-control"},null,512),[[n["E"],l.tempOrder.payment_method]])]),Object(n["g"])("div",V,[N,Object(n["I"])(Object(n["g"])("textarea",{type:"text","onUpdate:modelValue":t[5]||(t[5]=function(e){return l.tempOrder.message=e}),id:"message",class:"form-control bg-white",readonly:""},null,512),[[n["E"],l.tempOrder.message]])])]),P,l.tempOrder.user?(Object(n["s"])(),Object(n["d"])("div",J,[Object(n["g"])("div",Y,[q,Object(n["I"])(Object(n["g"])("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=function(e){return l.tempOrder.user.name=e}),id:"name",class:"form-control"},null,512),[[n["E"],l.tempOrder.user.name]])]),Object(n["g"])("div",G,[K,Object(n["I"])(Object(n["g"])("input",{type:"number","onUpdate:modelValue":t[7]||(t[7]=function(e){return l.tempOrder.user.tel=e}),id:"tel",class:"form-control"},null,512),[[n["E"],l.tempOrder.user.tel,void 0,{number:!0}]])])])):Object(n["e"])("",!0),l.tempOrder.user?(Object(n["s"])(),Object(n["d"])("div",F,[Object(n["g"])("div",z,[H,Object(n["I"])(Object(n["g"])("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=function(e){return l.tempOrder.user.address=e}),id:"address",class:"form-control"},null,512),[[n["E"],l.tempOrder.user.address]])]),Object(n["g"])("div",Q,[W,Object(n["I"])(Object(n["g"])("input",{type:"email","onUpdate:modelValue":t[9]||(t[9]=function(e){return l.tempOrder.user.email=e}),id:"email",class:"form-control"},null,512),[[n["E"],l.tempOrder.user.email]])])])):Object(n["e"])("",!0)]),Object(n["g"])("div",X,[Z,Object(n["g"])("ul",ee,[(Object(n["s"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(l.tempOrder.products,(function(e){return Object(n["s"])(),Object(n["d"])("li",{key:e.id,class:"pb-2 mb-2"},[Object(n["g"])("p",null,"產品名稱 : "+Object(n["A"])(e.product.title),1),Object(n["g"])("p",null,"數量 : "+Object(n["A"])(e.qty)+" / "+Object(n["A"])(e.product.unit),1),Object(n["g"])("p",null,"小計 : NT$ "+Object(n["A"])(e.final_total),1)])})),128))])])])]),Object(n["g"])("div",te,[ae,Object(n["g"])("button",{onClick:t[10]||(t[10]=function(t){return e.$emit("update-order",l.tempOrder)}),type:"button",class:"btn btn-primary"}," 確認 ")])])])],512)}var ce=a("9641"),le={props:["order"],data:function(){return{tempOrder:{}}},mixins:[ce["a"]],watch:{order:function(){this.tempOrder=this.order}}};le.render=ne;var se=le,re={id:"detailModal",class:"modal fade",tabindex:"-1","aria-labelledby":"orderModalLabel","aria-hidden":"true",ref:"modal"},de={class:"modal-dialog modal-xl"},oe={class:"modal-content border-0"},ie=Object(n["g"])("div",{class:"modal-header bg-dark text-white"},[Object(n["g"])("h5",{id:"orderModalLabel",class:"modal-title"},"查看訂單"),Object(n["g"])("button",{type:"button",class:"btn-close bg-white","data-bs-dismiss":"modal","aria-label":"Close"})],-1),ue={class:"modal-body"},be={class:"row"},Oe={class:"col-md-6"},pe=Object(n["g"])("h6",{class:"h3 mb-3"},"訂單資訊",-1),ge={class:"list-unstyled"},me={class:"d-flex"},je=Object(n["g"])("p",{class:"me-2"},"訂單編號 :",-1),fe={class:"d-flex"},he=Object(n["g"])("p",{class:"me-2"},"購買時間 :",-1),ve={class:"d-flex"},xe=Object(n["g"])("p",{class:"me-2"},"訂單狀態 :",-1),ye={key:0,class:"text-success"},we={key:1},ke={class:"d-flex"},Me=Object(n["g"])("p",{class:"me-2"},"付款方式 :",-1),Ce={class:"d-flex"},Ee=Object(n["g"])("p",{class:"me-2"},"金額 :",-1),Ae={class:"col-md-6"},Ie=Object(n["g"])("h6",{class:"h3 mb-3"},"顧客資訊",-1),_e={key:0,class:"list-unstyled"},Se={class:"d-flex"},Re=Object(n["g"])("p",{class:"me-2"},"顧客姓名 :",-1),Te={class:"d-flex"},$e=Object(n["g"])("p",{class:"me-2"},"顧客電話 :",-1),Le={class:"d-flex"},Ue=Object(n["g"])("p",{class:"me-2"},"顧客信箱 :",-1),Be={class:"d-flex"},De=Object(n["g"])("p",{class:"me-2"},"寄送地址 :",-1),Ve=Object(n["g"])("hr",null,null,-1),Ne=Object(n["g"])("h6",{class:"h3 mb-3"},"購買產品",-1),Pe={class:"list-unstyled d-flex"},Je={class:"me-5"},Ye={class:"me-5"},qe=Object(n["g"])("div",{class:"modal-footer"},[Object(n["g"])("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ")],-1);function Ge(e,t,a,c,l,s){return Object(n["s"])(),Object(n["d"])("div",re,[Object(n["g"])("div",de,[Object(n["g"])("div",oe,[ie,Object(n["g"])("div",ue,[Object(n["g"])("div",be,[Object(n["g"])("div",Oe,[pe,Object(n["g"])("ul",ge,[Object(n["g"])("li",me,[je,Object(n["g"])("p",null,Object(n["A"])(l.tempOrder.id),1)]),Object(n["g"])("li",fe,[he,Object(n["g"])("p",null,Object(n["A"])(l.tempOrder.create_at),1)]),Object(n["g"])("li",ve,[xe,Object(n["g"])("p",null,[l.tempOrder.is_enabled?(Object(n["s"])(),Object(n["d"])("span",ye,"已付款")):(Object(n["s"])(),Object(n["d"])("span",we,"未付款"))])]),Object(n["g"])("li",ke,[Me,Object(n["g"])("p",null,Object(n["A"])(l.tempOrder.payment),1)]),Object(n["g"])("li",Ce,[Ee,Object(n["g"])("p",null,"NT$ "+Object(n["A"])(l.tempOrder.total),1)])])]),Object(n["g"])("div",Ae,[Ie,l.tempOrder.user?(Object(n["s"])(),Object(n["d"])("ul",_e,[Object(n["g"])("li",Se,[Re,Object(n["g"])("p",null,Object(n["A"])(l.tempOrder.user.name),1)]),Object(n["g"])("li",Te,[$e,Object(n["g"])("p",null,Object(n["A"])(l.tempOrder.user.tel),1)]),Object(n["g"])("li",Le,[Ue,Object(n["g"])("p",null,Object(n["A"])(l.tempOrder.user.email),1)]),Object(n["g"])("li",Be,[De,Object(n["g"])("p",null,Object(n["A"])(l.tempOrder.user.address),1)])])):Object(n["e"])("",!0)]),Ve,Ne,Object(n["g"])("ul",Pe,[(Object(n["s"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(l.tempOrder.products,(function(e){return Object(n["s"])(),Object(n["d"])("li",{key:e.id,class:"pb-2 mb-2"},[Object(n["g"])("p",Je,"產品名稱 : "+Object(n["A"])(e.product.title),1),Object(n["g"])("p",Ye,"數量 : "+Object(n["A"])(e.qty)+" / "+Object(n["A"])(e.product.unit),1),Object(n["g"])("p",null,"小計 : NT$ "+Object(n["A"])(e.final_total),1)])})),128))])])]),qe])])],512)}var Ke={props:["order"],data:function(){return{tempOrder:{}}},mixins:[ce["a"]],watch:{order:function(){this.tempOrder=this.order}}};Ke.render=Ge;var Fe=Ke,ze={id:"statuModal",class:"modal fade",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},He={class:"modal-dialog modal-dialog-centered"},Qe={class:"modal-content"},We=Object(n["g"])("div",{class:"modal-header bg-secondary text-white py-4"},[Object(n["g"])("h5",{class:"modal-title",id:"exampleModalLabel"},"選擇訂單狀態"),Object(n["g"])("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Xe={class:"modal-body"};function Ze(e,t,a,c,l,s){return Object(n["s"])(),Object(n["d"])("div",ze,[Object(n["g"])("div",He,[Object(n["g"])("div",Qe,[We,Object(n["g"])("div",Xe,["wait"!==a.status?(Object(n["s"])(),Object(n["d"])("button",{key:0,class:"btn btn-outline-info me-4",onClick:t[1]||(t[1]=function(e){return s.updateStatus("wait")})}," 等待付款中 ")):Object(n["e"])("",!0),"handle"!==a.status?(Object(n["s"])(),Object(n["d"])("div",{key:1,class:"btn btn-outline-primary me-4",onClick:t[2]||(t[2]=function(e){return s.updateStatus("handle")})}," 處理中 ")):Object(n["e"])("",!0),"finish"!==a.status?(Object(n["s"])(),Object(n["d"])("div",{key:2,class:"btn btn-outline-success me-4",onClick:t[3]||(t[3]=function(e){return s.updateStatus("finish")})}," 完成 ")):Object(n["e"])("",!0),"cancel"!==a.status?(Object(n["s"])(),Object(n["d"])("div",{key:3,class:"btn btn-outline-secondary me-4",onClick:t[4]||(t[4]=function(e){return s.updateStatus("cancel")})}," 取消 ")):Object(n["e"])("",!0)])])])],512)}var et={props:{order:{type:Object},status:{type:String}},data:function(){return{tempOrder:{}}},watch:{order:function(){this.tempOrder=Object(g["a"])(Object(g["a"])({},this.order),{},{status:this.status})}},mixins:[ce["a"]],methods:{updateStatus:function(e){this.tempOrder.status=e,"handle"!==e&&"finish"!==e||(this.tempOrder.is_paid=!0,this.tempOrder.paid_date||(this.tempOrder.paid_date=Math.round((new Date).getTime()/1e3))),"wait"===e&&(this.tempOrder.is_paid=!1,this.tempOrder.paid_date=null),this.$emit("emit-status",this.tempOrder)}}};et.render=Ze;var tt=et,at={name:"Orders",data:function(){return{orders:{},status:"",tempOrder:{},pagination:{},isLoading:!1}},components:{Pagination:m["a"],OrderModal:se,DetailModal:Fe,StatusModal:tt},mounted:function(){this.getOrders()},methods:{getOrders:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0;var a="".concat("https://vue3-course-api.hexschool.io/","api/").concat("yangalice212","/admin/orders?page=").concat(t);this.$http.get(a).then((function(t){t.data.success?(e.orders=t.data.orders,e.pagination=t.data.pagination,e.isLoading=!1):alert(t.data.message)}))},openModal:function(e,t){var a=this.$refs,n=a.orderModal,c=a.detailModal,l=a.statusModal;switch(this.tempOrder=Object(g["a"])({},e),t){case"detail":c.openModal();break;case"edit":n.openModal();break;case"status":e.status?(this.status=e.status,console.log(e.is_paid)):(e.is_paid&&(this.status="handle"),this.status="wait"),l.openModal();break;default:break}},updateOrder:function(e){var t=this;this.isLoading=!0;var a=this.$refs,n=a.orderModal,c=a.statusModal,l="".concat("https://vue3-course-api.hexschool.io/","api/").concat("yangalice212","/admin/order/").concat(e.id);this.$http.put(l,{data:this.tempOrder}).then((function(e){e.data.success?(t.$swal({title:e.data.message}),n.hideModal(),c.hideModal(),t.getOrders(),t.isLoading=!1):(t.$swal({title:e.data.message,icon:"error",showCancelButton:!0,cancelButtonText:"取消"}),t.isLoading=!1)})).catch((function(e){console.log(e)}))},delOrder:function(e){var t=this,a="".concat("https://vue3-course-api.hexschool.io/","api/").concat("yangalice212","/admin/order/").concat(e);this.$swal({icon:"warning",title:"確定要刪除嗎？",showCancelButton:!0,confirmButtonText:"確定",cancelButtonText:"取消"}).then((function(e){e.isConfirmed&&(t.isLoading=!0,t.$http.delete(a).then((function(e){e.data.success?(t.isLoading=!1,t.$swal(e.data.message,"","success"),t.getOrders()):t.$swal({title:e.data.message,icon:"error",showCancelButton:!0,cancelButtonText:"取消"})})))}))},delAllOrders:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("yangalice212","/admin/orders/all");this.$swal({icon:"warning",title:"確定要全部刪除嗎？",showCancelButton:!0,confirmButtonText:"確定",cancelButtonText:"取消"}).then((function(a){a.isConfirmed&&(e.isLoading=!0,e.$http.delete(t).then((function(t){t.data.success?(e.isLoading=!1,e.$swal(t.data.message,"","success"),e.getOrders()):e.$swal({title:t.data.message,icon:"error",showCancelButton:!0,cancelButtonText:"取消"})})))}))}}};at.render=p;t["default"]=at},b0c0:function(e,t,a){var n=a("83ab"),c=a("9bf2").f,l=Function.prototype,s=l.toString,r=/^\s*function ([^ (]*)/,d="name";n&&!(d in l)&&c(l,d,{configurable:!0,get:function(){try{return s.call(this).match(r)[1]}catch(e){return""}}})},d784:function(e,t,a){"use strict";a("ac1f");var n=a("6eeb"),c=a("9263"),l=a("d039"),s=a("b622"),r=a("9112"),d=s("species"),o=RegExp.prototype;e.exports=function(e,t,a,i){var u=s(e),b=!l((function(){var t={};return t[u]=function(){return 7},7!=""[e](t)})),O=b&&!l((function(){var t=!1,a=/a/;return"split"===e&&(a={},a.constructor={},a.constructor[d]=function(){return a},a.flags="",a[u]=/./[u]),a.exec=function(){return t=!0,null},a[u](""),!t}));if(!b||!O||a){var p=/./[u],g=t(u,""[e],(function(e,t,a,n,l){var s=t.exec;return s===c||s===o.exec?b&&!l?{done:!0,value:p.call(t,a,n)}:{done:!0,value:e.call(a,t,n)}:{done:!1}}));n(String.prototype,e,g[0]),n(o,u,g[1])}i&&r(o[u],"sham",!0)}},fce3:function(e,t,a){var n=a("d039");e.exports=n((function(){var e=RegExp(".","string".charAt(0));return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))}}]);
//# sourceMappingURL=chunk-3b7f409a.6baa6cb0.js.map