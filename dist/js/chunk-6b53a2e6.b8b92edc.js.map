{"version":3,"sources":["webpack:///./src/views/dashboard/Products.vue","webpack:///./src/components/ProductModal.vue","webpack:///./src/components/ProductModal.vue?684b","webpack:///./src/views/dashboard/Products.vue?756c","webpack:///./node_modules/core-js/modules/es.symbol.description.js"],"names":["class","width","type","openModal","delProducts","products","item","key","id","style","imageUrl","title","price","origin_price","is_enabled","delProduct","page","pagination","getProducts","product","tempProduct","is-new","isNew","updateProduct","ref","tabindex","aria-labelledby","aria-hidden","data-bs-dismiss","aria-label","for","placeholder","src","Array","isArray","imagesUrl","push","pop","category","unit","min","description","content","true-value","false-value","$emit","props","data","imgData","this","mixins","modal","methods","getImgData","e","file","target","files","formData","FormData","append","console","log","$refs","uploadImg","$http","post","then","res","success","value","action","alert","message","catch","err","watch","render","name","isLoading","components","Pagination","ProductModal","created","url","get","$swal","icon","showCancelButton","cancelButtonText","status","productModal","method","hideModal","confirmButtonText","result","isConfirmed","delete","$","DESCRIPTORS","global","has","isObject","defineProperty","f","copyConstructorProperties","NativeSymbol","Symbol","prototype","undefined","EmptyStringDescriptionStore","SymbolWrapper","arguments","length","String","symbolPrototype","constructor","symbolToString","toString","native","regexp","configurable","symbol","valueOf","string","call","desc","slice","replace","forced"],"mappings":"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","file":"js/chunk-6b53a2e6.b8b92edc.js","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"text-end my-4\">\n      <button\n        type=\"button\"\n        class=\"btn btn-primary me-2\"\n        @click.prevent=\"openModal({}, 'new')\"\n      >\n        新增產品\n      </button>\n      <button type=\"button\" class=\"btn btn-outline-danger\" @click.prevent=\"delProducts\">\n        刪除全部產品\n      </button>\n    </div>\n    <table class=\"table\">\n      <thead>\n        <tr>\n          <th>產品圖片</th>\n          <th>產品名稱</th>\n          <th>原價</th>\n          <th>售價</th>\n          <th width=\"120\">狀態</th>\n          <th width=\"150\">編輯 / 刪除</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"item in products\" :key=\"item.id\">\n          <td>\n            <div\n                style=\"\n                  height: 100px;\n                  background-size: cover;\n                  background-position: center;\n                \"\n                :style=\"{ 'background-image': `url(${item.imageUrl})` }\"\n              ></div>\n          </td>\n          <td>{{ item.title }}</td>\n          <td>NT$ {{ item.price }}</td>\n          <td>NT$ {{ item.origin_price }}</td>\n          <td>\n            <span v-if=\"item.is_enabled\" class=\"text-success\">啟用</span>\n            <span v-else>未啟用</span>\n          </td>\n          <td>\n            <div class=\"btn-group\">\n              <button\n                type=\"button\"\n                class=\"btn btn-sm btn-outline-secondary\"\n                @click=\"openModal(item, 'edit')\"\n              >\n                編輯\n              </button>\n              <button\n                type=\" button\"\n                class=\"btn btn-sm btn-outline-danger\"\n                @click=\"delProduct(item.id)\"\n              >\n                刪除\n              </button>\n            </div>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  <div class=\"d-flex justify-content-center\">\n    <Pagination\n      :page=\"pagination\"\n      @get-data=\"getProducts\"\n    ></Pagination>\n  </div>\n  <ProductModal\n    :product=\"tempProduct\"\n    :is-new=\"isNew\"\n    @update-product=\"updateProduct\"\n    ref=\"productModal\"\n    ></ProductModal>\n</template>\n\n<script>\nimport ProductModal from '@/components/ProductModal.vue';\nimport Pagination from '@/components/Pagination.vue';\n\nexport default {\n  name: 'Products',\n  data() {\n    return {\n      products: [],\n      tempProduct: {},\n      pagination: {},\n      isNew: false,\n      isLoading: false,\n    };\n  },\n  components: {\n    Pagination,\n    ProductModal,\n  },\n  created() {\n    this.getProducts();\n  },\n  methods: {\n    getProducts(page = 1) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products?page=${page}`;\n      this.$http.get(url)\n        .then((res) => {\n          if (res.data.success) {\n            this.products = res.data.products;\n            this.pagination = res.data.pagination;\n          } else {\n            this.$swal({\n              title: res.data.message,\n              icon: 'error',\n              showCancelButton: true,\n              cancelButtonText: '取消',\n            });\n          }\n        }).catch((err) => {\n          console.log(err);\n        });\n    },\n    openModal(item, status) {\n      const { productModal } = this.$refs;\n      this.tempProduct = { ...item };\n      switch (status) {\n        case 'new':\n          this.isNew = true;\n          productModal.openModal();\n          break;\n        case 'edit':\n          this.isNew = false;\n          productModal.openModal();\n          break;\n        default:\n          break;\n      }\n    },\n    updateProduct() {\n      const { productModal } = this.$refs;\n      const method = this.isNew ? 'post' : 'put';\n      const id = this.isNew ? '' : `${this.tempProduct.id}`;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${id}`;\n\n      this.$http[method](url, { data: this.tempProduct })\n        .then((res) => {\n          if (res.data.success) {\n            this.$swal({\n              title: res.data.message,\n              icon: 'success',\n            });\n            this.getProducts();\n            productModal.hideModal();\n            this.isLoading = false;\n          } else {\n            this.$swal({\n              title: res.data.message,\n              icon: 'error',\n              showCancelButton: true,\n              cancelButtonText: '取消',\n            });\n            this.isLoading = false;\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    delProduct(id) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${id}`;\n      this.$swal({\n        icon: 'warning',\n        title: '確定要刪除嗎？',\n        showCancelButton: true,\n        confirmButtonText: '確定',\n        cancelButtonText: '取消',\n      }).then((result) => {\n        if (result.isConfirmed) {\n          this.$http.delete(url).then((res) => {\n            if (res.data.success) {\n              this.$swal(res.data.message, '', 'success');\n              this.getProducts();\n            } else {\n              this.$swal({\n                title: res.data.message,\n                icon: 'error',\n                showCancelButton: true,\n                cancelButtonText: '取消',\n              });\n            }\n          });\n        }\n      });\n    },\n    delProducts() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products/all`;\n      this.$swal({\n        icon: 'warning',\n        title: '確定要全部刪除嗎？',\n        showCancelButton: true,\n        confirmButtonText: '確定',\n        cancelButtonText: '取消',\n      }).then((result) => {\n        if (result.isConfirmed) {\n          this.$http.delete(url).then((res) => {\n            if (res.data.success) {\n              this.$swal(res.data.message, '', 'success');\n              this.getProducts();\n            } else {\n              this.$swal({\n                title: res.data.message,\n                icon: 'error',\n                showCancelButton: true,\n                cancelButtonText: '取消',\n              });\n            }\n          });\n        }\n      });\n    },\n  },\n};\n</script>\n","<template>\n  <div\n    id=\"productModal\"\n    class=\"modal fade\"\n    tabindex=\"-1\"\n    aria-labelledby=\"productModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog modal-xl\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-dark text-white\">\n          <h5 id=\"productModalLabel\" class=\"modal-title\">\n            <span v-if=\"isNew\">新增產品</span>\n            <span v-else>編輯產品</span>\n          </h5>\n          <button\n            type=\"button\"\n            class=\"btn-close bg-white\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body text-start text-dark\">\n          <div class=\"row\">\n            <div class=\"col-sm-4\">\n              <div class=\"mb-1\">\n                <div class=\"form-group\">\n                  <label for=\"imageUrl\">主要圖片</label>\n                  <input id=\"imageUrl\"\n                    v-model=\"tempProduct.imageUrl\"\n                    type=\"text\"\n                    class=\"form-control\"\n                    placeholder=\"請輸入圖片連結\">\n                  <img class=\"img-fluid\" :src=\"tempProduct.imageUrl\">\n                </div>\n              </div>\n              <div class=\"mb-1\">多圖新增</div>\n              <div v-if=\"Array.isArray(tempProduct.imagesUrl)\">\n                <div v-for=\"(item, key) in tempProduct.imagesUrl\" :key=\"key\" class=\"mb-1\">\n                  <div class=\"form-group\">\n                    <label for=\"imageUrl\">輸入圖片網址</label>\n                    <input\n                      v-model=\"tempProduct.imagesUrl[key]\"\n                      type=\"text\"\n                      class=\"form-control\"\n                      placeholder=\"請輸入圖片連結\"\n                    />\n                  </div>\n                  <img class=\"img-fluid\" :src=\"item\" />\n                </div>\n                <div\n                  v-if=\"\n                    !tempProduct.imagesUrl.length ||\n                      tempProduct.imagesUrl[tempProduct.imagesUrl.length - 1]\n                  \"\n                >\n                  <button\n                    @click=\"tempProduct.imagesUrl.push('')\"\n                    class=\"btn btn-outline-primary btn-sm d-block w-100\"\n                  >\n                    新增圖片\n                  </button>\n                </div>\n                <div v-else>\n                  <button\n                    @click=\"tempProduct.imagesUrl.pop()\"\n                    class=\"btn btn-outline-danger btn-sm d-block w-100\"\n                  >\n                    刪除圖片\n                  </button>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-sm-8\">\n              <div class=\"form-group\">\n                <label for=\"title\">標題</label>\n                <input\n                  v-model.trim=\"tempProduct.title\"\n                  id=\"title\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  placeholder=\"請輸入標題\"\n                />\n              </div>\n\n              <div class=\"row\">\n                <div class=\"form-group col-md-6\">\n                  <label for=\"category\">分類</label>\n                  <input\n                    v-model.trim=\"tempProduct.category\"\n                    id=\"category\"\n                    type=\"text\"\n                    class=\"form-control\"\n                    placeholder=\"請輸入分類\"\n                  />\n                </div>\n                <div class=\"form-group col-md-6\">\n                  <label for=\"unit\">單位</label>\n                  <input\n                    v-model.trim=\"tempProduct.unit\"\n                    id=\"unit\"\n                    type=\"text\"\n                    class=\"form-control\"\n                    placeholder=\"請輸入單位\"\n                  />\n                </div>\n              </div>\n\n              <div class=\"row\">\n                <div class=\"form-group col-md-6\">\n                  <label for=\"origin_price\">原價</label>\n                  <input\n                    v-model.number=\"tempProduct.origin_price\"\n                    id=\"origin_price\"\n                    type=\"number\"\n                    min=\"0\"\n                    class=\"form-control\"\n                    placeholder=\"請輸入原價\"\n                  />\n                </div>\n                <div class=\"form-group col-md-6\">\n                  <label for=\"price\">售價</label>\n                  <input\n                    v-model.number=\"tempProduct.price\"\n                    id=\"price\"\n                    type=\"number\"\n                    min=\"0\"\n                    class=\"form-control\"\n                    placeholder=\"請輸入售價\"\n                  />\n                </div>\n              </div>\n              <hr />\n              <div class=\"form-group\">\n                <label for=\"description\">產品描述</label>\n                <textarea\n                  v-model.trim=\"tempProduct.description\"\n                  id=\"description\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  placeholder=\"請輸入產品描述\"\n                >\n                </textarea>\n              </div>\n              <div class=\"form-group\">\n                <label for=\"content\">說明內容</label>\n                <textarea\n                  v-model.trim=\"tempProduct.content\"\n                  id=\"content\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  placeholder=\"請輸入說明內容\"\n                >\n                </textarea>\n              </div>\n              <div class=\"form-group\">\n                <div class=\"form-check\">\n                  <input\n                    v-model=\"tempProduct.is_enabled\"\n                    id=\"is_enabled\"\n                    class=\"form-check-input\"\n                    type=\"checkbox\"\n                    :true-value=\"1\"\n                    :false-value=\"0\"\n                  />\n                  <label class=\"form-check-label\" for=\"is_enabled\">是否啟用</label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-outline-secondary\" data-bs-dismiss=\"modal\">\n            取消\n          </button>\n          <button\n            @click=\"$emit('update-product', tempProduct)\"\n            type=\"button\"\n            class=\"btn btn-primary\"\n          >\n            確認\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modal from '../mixins/modal';\n\nexport default {\n  props: ['product', 'isNew'],\n  data() {\n    return {\n      imgData: null,\n      tempProduct: { ...this.product },\n    };\n  },\n  mixins: [modal],\n  methods: {\n    getImgData(e) {\n      const file = e.target.files[0];\n      const formData = new FormData();\n      formData.append('file-to-upload', file);\n      this.imgData = formData;\n      console.log(this.$refs);\n    },\n    uploadImg() {\n      this.$http\n        .post(\n          `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`,\n          this.imgData,\n        )\n        .then((res) => {\n          if (res.data.success) {\n            this.imgData = null;\n            this.$refs.imageUrl.value = '';\n            if (this.action === 'new') {\n              this.tempProduct.imageUrl = res.data.imageUrl;\n            } else if (this.action === 'edit') {\n              this.tempProduct.imagesUrl.push(res.data.imageUrl);\n            }\n          } else {\n            alert(res.data.message);\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n  },\n  watch: {\n    product() {\n      this.tempProduct = this.product;\n      if (!this.tempProduct.imagesUrl) {\n        this.tempProduct.imagesUrl = [];\n      }\n      if (!this.tempProduct.imageUrl) {\n        this.tempProduct.imageUrl = '';\n      }\n    },\n  },\n};\n</script>\n","import { render } from \"./ProductModal.vue?vue&type=template&id=79a54d56\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Products.vue?vue&type=template&id=2c703e3a\"\nimport script from \"./Products.vue?vue&type=script&lang=js\"\nexport * from \"./Products.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n"],"sourceRoot":""}