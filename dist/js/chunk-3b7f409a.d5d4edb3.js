(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b7f409a"],{"107c":function(e,t,n){var r=n("d039");e.exports=r((function(){var e=RegExp("(?<a>b)","string".charAt(5));return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},1276:function(e,t,n){"use strict";var r=n("d784"),c=n("44e7"),a=n("825a"),l=n("1d80"),o=n("4840"),i=n("8aa5"),s=n("50c4"),d=n("14c3"),u=n("9263"),b=n("9f7f"),h=n("d039"),p=b.UNSUPPORTED_Y,O=[].push,m=Math.min,f=4294967295,j=!h((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));r("split",(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(l(this)),a=void 0===n?f:n>>>0;if(0===a)return[];if(void 0===e)return[r];if(!c(e))return t.call(r,e,a);var o,i,s,d=[],b=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,p=new RegExp(e.source,b+"g");while(o=u.call(p,r)){if(i=p.lastIndex,i>h&&(d.push(r.slice(h,o.index)),o.length>1&&o.index<r.length&&O.apply(d,o.slice(1)),s=o[0].length,h=i,d.length>=a))break;p.lastIndex===o.index&&p.lastIndex++}return h===r.length?!s&&p.test("")||d.push(""):d.push(r.slice(h)),d.length>a?d.slice(0,a):d}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var c=l(this),a=void 0==t?void 0:t[e];return void 0!==a?a.call(t,c,n):r.call(String(c),t,n)},function(e,c){var l=n(r,this,e,c,r!==t);if(l.done)return l.value;var u=a(this),b=String(e),h=o(u,RegExp),O=u.unicode,j=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(p?"g":"y"),g=new h(p?"^(?:"+u.source+")":u,j),v=void 0===c?f:c>>>0;if(0===v)return[];if(0===b.length)return null===d(g,b)?[b]:[];var x=0,y=0,w=[];while(y<b.length){g.lastIndex=p?0:y;var k,E=d(g,p?b.slice(y):b);if(null===E||(k=m(s(g.lastIndex+(p?y:0)),b.length))===x)y=i(b,y,O);else{if(w.push(b.slice(x,y)),w.length===v)return w;for(var I=1;I<=E.length-1;I++)if(w.push(E[I]),w.length===v)return w;y=x=k}}return w.push(b.slice(x)),w}]}),!j,p)},"14c3":function(e,t,n){var r=n("c6b6"),c=n("9263");e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var a=n.call(e,t);if("object"!==typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return c.call(e,t)}},"44e7":function(e,t,n){var r=n("861d"),c=n("c6b6"),a=n("b622"),l=a("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[l])?!!t:"RegExp"==c(e))}},"8aa5":function(e,t,n){"use strict";var r=n("6547").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},9263:function(e,t,n){"use strict";var r=n("ad6d"),c=n("9f7f"),a=n("5692"),l=n("7c73"),o=n("69f3").get,i=n("fce3"),s=n("107c"),d=RegExp.prototype.exec,u=a("native-string-replace",String.prototype.replace),b=d,h=function(){var e=/a/,t=/b*/g;return d.call(e,"a"),d.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),p=c.UNSUPPORTED_Y||c.BROKEN_CARET,O=void 0!==/()??/.exec("")[1],m=h||O||p||i||s;m&&(b=function(e){var t,n,c,a,i,s,m,f=this,j=o(f),g=j.raw;if(g)return g.lastIndex=f.lastIndex,t=b.call(g,e),f.lastIndex=g.lastIndex,t;var v=j.groups,x=p&&f.sticky,y=r.call(f),w=f.source,k=0,E=e;if(x&&(y=y.replace("y",""),-1===y.indexOf("g")&&(y+="g"),E=String(e).slice(f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==e[f.lastIndex-1])&&(w="(?: "+w+")",E=" "+E,k++),n=new RegExp("^(?:"+w+")",y)),O&&(n=new RegExp("^"+w+"$(?!\\s)",y)),h&&(c=f.lastIndex),a=d.call(x?n:f,E),x?a?(a.input=a.input.slice(k),a[0]=a[0].slice(k),a.index=f.lastIndex,f.lastIndex+=a[0].length):f.lastIndex=0:h&&a&&(f.lastIndex=f.global?a.index+a[0].length:c),O&&a&&a.length>1&&u.call(a[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(a[i]=void 0)})),a&&v)for(a.groups=s=l(null),i=0;i<v.length;i++)m=v[i],s[m[0]]=a[m[1]];return a}),e.exports=b},"9f7f":function(e,t,n){var r=n("d039"),c=function(e,t){return RegExp(e,t)};t.UNSUPPORTED_Y=r((function(){var e=c("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=c("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},ac1f:function(e,t,n){"use strict";var r=n("23e7"),c=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==c},{exec:c})},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b06d:function(e,t,n){"use strict";n.r(t);n("ac1f"),n("1276"),n("b0c0");var r=n("7a23"),c={class:"container"},a={class:"text-end my-4"},l={class:"table"},o=Object(r["h"])("thead",null,[Object(r["h"])("tr",null,[Object(r["h"])("th",{width:"120"},"購買時間"),Object(r["h"])("th",{width:"200"},"訂單編號"),Object(r["h"])("th",{width:"110"},"購買人姓名"),Object(r["h"])("th",{width:"150"},"購買人電話"),Object(r["h"])("th",{width:"120"},"應付金額"),Object(r["h"])("th",{width:"100"},"訂單狀態"),Object(r["h"])("th",{width:"100"},"查看訂單"),Object(r["h"])("th",{width:"150"},"編輯 / 刪除")])],-1),i={key:0,class:"text-success"},s={key:1},d={class:"btn-group"},u={class:"d-flex justify-content-center"};function b(e,t,n,b,h,p){var O=Object(r["y"])("Pagination"),m=Object(r["y"])("OrderModal");return Object(r["t"])(),Object(r["d"])(r["a"],null,[Object(r["h"])("div",c,[Object(r["h"])("div",a,[Object(r["h"])("button",{type:"button",class:"btn btn-primary",onClick:t[1]||(t[1]=Object(r["K"])((function(){return p.delAllOrders&&p.delAllOrders.apply(p,arguments)}),["prevent"]))}," 刪除全部訂單 ")]),Object(r["h"])("table",l,[o,Object(r["h"])("tbody",null,[(Object(r["t"])(!0),Object(r["d"])(r["a"],null,Object(r["x"])(h.orders,(function(e){return Object(r["t"])(),Object(r["d"])("tr",{key:e.id},[Object(r["h"])("td",null,Object(r["B"])(new Date(1e3*e.create_at).toISOString().split("T")[0]),1),Object(r["h"])("td",null,Object(r["B"])(e.id),1),Object(r["h"])("td",null,Object(r["B"])(e.user.name),1),Object(r["h"])("td",null,Object(r["B"])(e.user.tel),1),Object(r["h"])("td",null,Object(r["B"])(e.total),1),Object(r["h"])("td",null,[e.is_enabled?(Object(r["t"])(),Object(r["d"])("span",i,"已付款")):(Object(r["t"])(),Object(r["d"])("span",s,"未付款"))]),Object(r["h"])("td",null,[Object(r["h"])("button",{class:"btn btn-sm btn-outline-secondary",onClick:t[2]||(t[2]=Object(r["K"])((function(){}),["prevent"]))}," 查看 ")]),Object(r["h"])("td",null,[Object(r["h"])("div",d,[Object(r["h"])("button",{type:"button",class:"btn btn-sm btn-outline-secondary",onClick:function(t){return p.openModal(e)}}," 編輯 ",8,["onClick"]),Object(r["h"])("button",{type:" button",class:"btn btn-sm btn-outline-danger",onClick:function(t){return p.delOrder(e.id)}}," 刪除 ",8,["onClick"])])])])})),128))])])]),Object(r["h"])("div",u,[Object(r["h"])(O,{page:h.pagination,onGetData:p.getOrders},null,8,["page","onGetData"])]),Object(r["h"])(m,{order:h.tempOrder,onUpdateOrder:p.updateOrder,ref:"orderModal"},null,8,["order","onUpdateOrder"])],64)}var h=n("5530"),p=(n("99af"),n("1799")),O={id:"orderModal",class:"modal fade",tabindex:"-1","aria-labelledby":"orderModalLabel","aria-hidden":"true",ref:"modal"},m={class:"modal-dialog modal-xl"},f={class:"modal-content border-0"},j=Object(r["h"])("div",{class:"modal-header bg-dark text-white"},[Object(r["h"])("h5",{id:"orderModalLabel",class:"modal-title"},"編輯訂單"),Object(r["h"])("button",{type:"button",class:"btn-close bg-white","data-bs-dismiss":"modal","aria-label":"Close"})],-1),g={class:"modal-body"},v={class:"row"},x={class:"col-md-6"},y={class:"row mb-2"},w={class:"form-group col-md-6"},k=Object(r["h"])("label",{for:"id",class:"mb-2"},"訂單編號",-1),E={class:"form-group col-md-6"},I=Object(r["h"])("label",{for:"time",class:"mb-2"},"購買時間",-1),B={class:"row mb-2"},R={class:"form-group col-md-6"},C=Object(r["h"])("label",{class:"mb-2"},"是否付款",-1),T={key:0},U={key:1},$={key:0,class:"form-group col-md-6"},_=Object(r["h"])("label",{for:"paidTime",class:"mb-2"},"付款時間",-1),M={class:"row mb-2"},S={class:"form-group col-md-6"},J=Object(r["h"])("label",{for:"payment",class:"mb-2"},"付款方式",-1),A={class:"form-group col-md-6"},F=Object(r["h"])("label",{for:"message",class:"mb-2"},"留言",-1),V=Object(r["h"])("hr",null,null,-1),P={key:0,class:"row mb-2"},D={class:"form-group col-md-6"},N=Object(r["h"])("label",{for:"name",class:"mb-2"},"購買人姓名",-1),K={class:"form-group col-md-6"},L=Object(r["h"])("label",{for:"tel",class:"mb-2"},"購買人電話",-1),Y={key:1,class:"row"},G={class:"form-group col-md-6"},q=Object(r["h"])("label",{for:"address",class:"mb-2"},"購買人地址",-1),z={class:"form-group col-md-6"},H=Object(r["h"])("label",{for:"email",class:"mb-2"},"購買人信箱",-1),Q={class:"col-md-6"},W=Object(r["h"])("h3",{class:"mb-3"},"產品資訊",-1),X={class:"list-unstyled"},Z={class:"modal-footer"},ee=Object(r["h"])("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ",-1);function te(e,t,n,c,a,l){return Object(r["t"])(),Object(r["d"])("div",O,[Object(r["h"])("div",m,[Object(r["h"])("div",f,[j,Object(r["h"])("div",g,[Object(r["h"])("div",v,[Object(r["h"])("div",x,[Object(r["h"])("div",y,[Object(r["h"])("div",w,[k,Object(r["J"])(Object(r["h"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.tempOrder.id=e}),id:"id",class:"form-control bg-white border-0",readonly:""},null,512),[[r["F"],a.tempOrder.id]])]),Object(r["h"])("div",E,[I,Object(r["J"])(Object(r["h"])("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.tempOrder.create_at=e}),id:"time",class:"form-control bg-white border-0",readonly:""},null,512),[[r["F"],a.tempOrder.create_at]])])]),Object(r["h"])("div",B,[Object(r["h"])("div",R,[C,Object(r["h"])("div",null,[a.tempOrder.is_paid?(Object(r["t"])(),Object(r["d"])("span",T,"已付款")):(Object(r["t"])(),Object(r["d"])("span",U,"未付款"))])]),a.tempOrder.is_paid?(Object(r["t"])(),Object(r["d"])("div",$,[_,Object(r["J"])(Object(r["h"])("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=function(e){return a.tempOrder.paid_date=e}),id:"paidTime",class:"form-control bg-white border-0",readonly:""},null,512),[[r["F"],a.tempOrder.paid_date]])])):Object(r["e"])("",!0)]),Object(r["h"])("div",M,[Object(r["h"])("div",S,[J,Object(r["J"])(Object(r["h"])("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.tempOrder.payment_method=e}),id:"payment",class:"form-control"},null,512),[[r["F"],a.tempOrder.payment_method]])]),Object(r["h"])("div",A,[F,Object(r["J"])(Object(r["h"])("textarea",{type:"text","onUpdate:modelValue":t[5]||(t[5]=function(e){return a.tempOrder.message=e}),id:"message",class:"form-control bg-white",readonly:""},null,512),[[r["F"],a.tempOrder.message]])])]),V,a.tempOrder.user?(Object(r["t"])(),Object(r["d"])("div",P,[Object(r["h"])("div",D,[N,Object(r["J"])(Object(r["h"])("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=function(e){return a.tempOrder.user.name=e}),id:"name",class:"form-control"},null,512),[[r["F"],a.tempOrder.user.name]])]),Object(r["h"])("div",K,[L,Object(r["J"])(Object(r["h"])("input",{type:"number","onUpdate:modelValue":t[7]||(t[7]=function(e){return a.tempOrder.user.tel=e}),id:"tel",class:"form-control"},null,512),[[r["F"],a.tempOrder.user.tel,void 0,{number:!0}]])])])):Object(r["e"])("",!0),a.tempOrder.user?(Object(r["t"])(),Object(r["d"])("div",Y,[Object(r["h"])("div",G,[q,Object(r["J"])(Object(r["h"])("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=function(e){return a.tempOrder.user.address=e}),id:"address",class:"form-control"},null,512),[[r["F"],a.tempOrder.user.address]])]),Object(r["h"])("div",z,[H,Object(r["J"])(Object(r["h"])("input",{type:"email","onUpdate:modelValue":t[9]||(t[9]=function(e){return a.tempOrder.user.email=e}),id:"email",class:"form-control"},null,512),[[r["F"],a.tempOrder.user.email]])])])):Object(r["e"])("",!0)]),Object(r["h"])("div",Q,[W,Object(r["h"])("ul",X,[(Object(r["t"])(!0),Object(r["d"])(r["a"],null,Object(r["x"])(a.tempOrder.products,(function(e){return Object(r["t"])(),Object(r["d"])("li",{key:e.id,class:"pb-2 mb-2"}," 產品編號 : "+Object(r["B"])(e.product_id)+" 數量 : "+Object(r["B"])(e.qty),1)})),128))])])])]),Object(r["h"])("div",Z,[ee,Object(r["h"])("button",{onClick:t[10]||(t[10]=function(t){return e.$emit("update-order",a.tempOrder)}),type:"button",class:"btn btn-primary"}," 確認 ")])])])],512)}var ne=n("9641"),re={props:["order"],data:function(){return{tempOrder:{}}},mixins:[ne["a"]],watch:{order:function(){this.tempOrder=this.order}}};re.render=te;var ce=re,ae={name:"Orders",data:function(){return{orders:{},tempOrder:{},pagination:{}}},components:{Pagination:p["a"],OrderModal:ce},mounted:function(){this.getOrders()},methods:{getOrders:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n="".concat("https://vue3-course-api.hexschool.io/","api/").concat("yangalice212","/admin/orders?page=").concat(t);this.$http.get(n).then((function(t){t.data.success?(e.orders=t.data.orders,e.pagination=t.data.pagination):alert(t.data.message)}))},openModal:function(e){var t=this.$refs.orderModal;this.tempOrder=Object(h["a"])({},e),t.openModal()},updateOrder:function(e){var t=this,n=this.$refs.orderModal,r="".concat("https://vue3-course-api.hexschool.io/","api/").concat("yangalice212","/admin/order/").concat(e.id);this.$http.put(r,{data:this.tempOrder}).then((function(e){e.data.success?(t.$swal({title:e.data.message}),t.getOrders(),n.hideModal(),t.isLoading=!1):(t.$swal({title:e.data.message,icon:"error",showCancelButton:!0,cancelButtonText:"取消"}),t.isLoading=!1)})).catch((function(e){console.log(e)}))},delOrder:function(e){var t=this,n="".concat("https://vue3-course-api.hexschool.io/","api/").concat("yangalice212","/admin/order/").concat(e);this.$swal({icon:"warning",title:"確定要刪除嗎？",showCancelButton:!0,confirmButtonText:"確定",cancelButtonText:"取消"}).then((function(e){e.isConfirmed&&t.$http.delete(n).then((function(e){e.data.success?(t.$swal(e.data.message,"","success"),t.getOrders()):t.$swal({title:e.data.message,icon:"error",showCancelButton:!0,cancelButtonText:"取消"})}))}))},delAllOrders:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("yangalice212","/admin/orders/all");this.$swal({icon:"warning",title:"確定要全部刪除嗎？",showCancelButton:!0,confirmButtonText:"確定",cancelButtonText:"取消"}).then((function(n){n.isConfirmed&&e.$http.delete(t).then((function(t){t.data.success?(e.$swal(t.data.message,"","success"),e.getOrders()):e.$swal({title:t.data.message,icon:"error",showCancelButton:!0,cancelButtonText:"取消"})}))}))}}};ae.render=b;t["default"]=ae},b0c0:function(e,t,n){var r=n("83ab"),c=n("9bf2").f,a=Function.prototype,l=a.toString,o=/^\s*function ([^ (]*)/,i="name";r&&!(i in a)&&c(a,i,{configurable:!0,get:function(){try{return l.call(this).match(o)[1]}catch(e){return""}}})},d784:function(e,t,n){"use strict";n("ac1f");var r=n("6eeb"),c=n("9263"),a=n("d039"),l=n("b622"),o=n("9112"),i=l("species"),s=RegExp.prototype;e.exports=function(e,t,n,d){var u=l(e),b=!a((function(){var t={};return t[u]=function(){return 7},7!=""[e](t)})),h=b&&!a((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[i]=function(){return n},n.flags="",n[u]=/./[u]),n.exec=function(){return t=!0,null},n[u](""),!t}));if(!b||!h||n){var p=/./[u],O=t(u,""[e],(function(e,t,n,r,a){var l=t.exec;return l===c||l===s.exec?b&&!a?{done:!0,value:p.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}));r(String.prototype,e,O[0]),r(s,u,O[1])}d&&o(s[u],"sham",!0)}},fce3:function(e,t,n){var r=n("d039");e.exports=r((function(){var e=RegExp(".","string".charAt(0));return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))}}]);
//# sourceMappingURL=chunk-3b7f409a.d5d4edb3.js.map