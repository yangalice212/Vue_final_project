(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b7f409a"],{"107c":function(t,e,a){var c=a("d039");t.exports=c((function(){var t=RegExp("(?<a>b)","string".charAt(5));return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},1276:function(t,e,a){"use strict";var c=a("d784"),n=a("44e7"),l=a("825a"),r=a("1d80"),s=a("4840"),d=a("8aa5"),o=a("50c4"),i=a("14c3"),u=a("9263"),b=a("9f7f"),O=a("d039"),h=b.UNSUPPORTED_Y,p=[].push,m=Math.min,j=4294967295,f=!O((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var a="ab".split(t);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));c("split",(function(t,e,a){var c;return c="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,a){var c=String(r(this)),l=void 0===a?j:a>>>0;if(0===l)return[];if(void 0===t)return[c];if(!n(t))return e.call(c,t,l);var s,d,o,i=[],b=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),O=0,h=new RegExp(t.source,b+"g");while(s=u.call(h,c)){if(d=h.lastIndex,d>O&&(i.push(c.slice(O,s.index)),s.length>1&&s.index<c.length&&p.apply(i,s.slice(1)),o=s[0].length,O=d,i.length>=l))break;h.lastIndex===s.index&&h.lastIndex++}return O===c.length?!o&&h.test("")||i.push(""):i.push(c.slice(O)),i.length>l?i.slice(0,l):i}:"0".split(void 0,0).length?function(t,a){return void 0===t&&0===a?[]:e.call(this,t,a)}:e,[function(e,a){var n=r(this),l=void 0==e?void 0:e[t];return void 0!==l?l.call(e,n,a):c.call(String(n),e,a)},function(t,n){var r=a(c,this,t,n,c!==e);if(r.done)return r.value;var u=l(this),b=String(t),O=s(u,RegExp),p=u.unicode,f=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(h?"g":"y"),g=new O(h?"^(?:"+u.source+")":u,f),v=void 0===n?j:n>>>0;if(0===v)return[];if(0===b.length)return null===i(g,b)?[b]:[];var x=0,y=0,w=[];while(y<b.length){g.lastIndex=h?0:y;var k,M=i(g,h?b.slice(y):b);if(null===M||(k=m(o(g.lastIndex+(h?y:0)),b.length))===x)y=d(b,y,p);else{if(w.push(b.slice(x,y)),w.length===v)return w;for(var B=1;B<=M.length-1;B++)if(w.push(M[B]),w.length===v)return w;y=x=k}}return w.push(b.slice(x)),w}]}),!f,h)},"14c3":function(t,e,a){var c=a("c6b6"),n=a("9263");t.exports=function(t,e){var a=t.exec;if("function"===typeof a){var l=a.call(t,e);if("object"!==typeof l)throw TypeError("RegExp exec method returned something other than an Object or null");return l}if("RegExp"!==c(t))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},"44e7":function(t,e,a){var c=a("861d"),n=a("c6b6"),l=a("b622"),r=l("match");t.exports=function(t){var e;return c(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==n(t))}},"8aa5":function(t,e,a){"use strict";var c=a("6547").charAt;t.exports=function(t,e,a){return e+(a?c(t,e).length:1)}},9263:function(t,e,a){"use strict";var c=a("ad6d"),n=a("9f7f"),l=a("5692"),r=a("7c73"),s=a("69f3").get,d=a("fce3"),o=a("107c"),i=RegExp.prototype.exec,u=l("native-string-replace",String.prototype.replace),b=i,O=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),h=n.UNSUPPORTED_Y||n.BROKEN_CARET,p=void 0!==/()??/.exec("")[1],m=O||p||h||d||o;m&&(b=function(t){var e,a,n,l,d,o,m,j=this,f=s(j),g=f.raw;if(g)return g.lastIndex=j.lastIndex,e=b.call(g,t),j.lastIndex=g.lastIndex,e;var v=f.groups,x=h&&j.sticky,y=c.call(j),w=j.source,k=0,M=t;if(x&&(y=y.replace("y",""),-1===y.indexOf("g")&&(y+="g"),M=String(t).slice(j.lastIndex),j.lastIndex>0&&(!j.multiline||j.multiline&&"\n"!==t[j.lastIndex-1])&&(w="(?: "+w+")",M=" "+M,k++),a=new RegExp("^(?:"+w+")",y)),p&&(a=new RegExp("^"+w+"$(?!\\s)",y)),O&&(n=j.lastIndex),l=i.call(x?a:j,M),x?l?(l.input=l.input.slice(k),l[0]=l[0].slice(k),l.index=j.lastIndex,j.lastIndex+=l[0].length):j.lastIndex=0:O&&l&&(j.lastIndex=j.global?l.index+l[0].length:n),p&&l&&l.length>1&&u.call(l[0],a,(function(){for(d=1;d<arguments.length-2;d++)void 0===arguments[d]&&(l[d]=void 0)})),l&&v)for(l.groups=o=r(null),d=0;d<v.length;d++)m=v[d],o[m[0]]=l[m[1]];return l}),t.exports=b},"9f7f":function(t,e,a){var c=a("d039"),n=function(t,e){return RegExp(t,e)};e.UNSUPPORTED_Y=c((function(){var t=n("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=c((function(){var t=n("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},ac1f:function(t,e,a){"use strict";var c=a("23e7"),n=a("9263");c({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},ad6d:function(t,e,a){"use strict";var c=a("825a");t.exports=function(){var t=c(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b06d:function(t,e,a){"use strict";a.r(e);a("ac1f"),a("1276"),a("b0c0");var c=a("7a23"),n={class:"container"},l={class:"text-end my-4"},r={class:"table"},s=Object(c["h"])("thead",null,[Object(c["h"])("tr",null,[Object(c["h"])("th",{width:"120"},"購買時間"),Object(c["h"])("th",{width:"200"},"訂單編號"),Object(c["h"])("th",{width:"110"},"購買人姓名"),Object(c["h"])("th",{width:"150"},"購買人電話"),Object(c["h"])("th",{width:"120"},"應付金額"),Object(c["h"])("th",{width:"100"},"訂單狀態"),Object(c["h"])("th",{width:"100"},"查看訂單"),Object(c["h"])("th",{width:"150"},"編輯 / 刪除")])],-1),d={class:"btn-group"},o={class:"d-flex justify-content-center"};function i(t,e,a,i,u,b){var O=Object(c["y"])("Pagination"),h=Object(c["y"])("OrderModal"),p=Object(c["y"])("DetailModal"),m=Object(c["y"])("StatusModal");return Object(c["t"])(),Object(c["d"])(c["a"],null,[Object(c["h"])("div",n,[Object(c["h"])("div",l,[Object(c["h"])("button",{type:"button",class:"btn btn-outline-danger",onClick:e[1]||(e[1]=Object(c["K"])((function(){return b.delAllOrders&&b.delAllOrders.apply(b,arguments)}),["prevent"]))}," 刪除全部訂單 ")]),Object(c["h"])("table",r,[s,Object(c["h"])("tbody",null,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["x"])(u.orders,(function(t){return Object(c["t"])(),Object(c["d"])("tr",{key:t.id},[Object(c["h"])("td",null,Object(c["B"])(new Date(1e3*t.create_at).toISOString().split("T")[0]),1),Object(c["h"])("td",null,Object(c["B"])(t.id),1),Object(c["h"])("td",null,Object(c["B"])(t.user.name),1),Object(c["h"])("td",null,Object(c["B"])(t.user.tel),1),Object(c["h"])("td",null,Object(c["B"])(t.total),1),Object(c["h"])("td",null,[t.is_paid||"cancel"===t.status?Object(c["e"])("",!0):(Object(c["t"])(),Object(c["d"])("div",{key:0,class:"btn btn-sm btn-outline-info",onClick:function(e){return b.openModal(t,"status")}}," 等待付款中 ",8,["onClick"])),t.is_paid&&"finish"!==t.status&&"cancel"!==t.status?(Object(c["t"])(),Object(c["d"])("div",{key:1,class:"btn btn-sm btn-outline-primary",onClick:function(e){return b.openModal(t,"status")}}," 處理中 ",8,["onClick"])):Object(c["e"])("",!0),"finish"===t.status?(Object(c["t"])(),Object(c["d"])("div",{key:2,class:"btn btn-sm btn-outline-success",onClick:function(e){return b.openModal(t,"status")}}," 完成 ",8,["onClick"])):Object(c["e"])("",!0),"cancel"===t.status?(Object(c["t"])(),Object(c["d"])("div",{key:3,class:"btn btn-sm btn-outline-secondary",onClick:function(e){return b.openModal(t,"status")}}," 取消 ",8,["onClick"])):Object(c["e"])("",!0)]),Object(c["h"])("td",null,[Object(c["h"])("button",{class:"btn btn-sm btn-outline-secondary",onClick:function(e){return b.openModal(t,"detail")}}," 查看 ",8,["onClick"])]),Object(c["h"])("td",null,[Object(c["h"])("div",d,[Object(c["h"])("button",{type:"button",class:"btn btn-sm btn-outline-secondary",onClick:function(e){return b.openModal(t,"edit")}}," 編輯 ",8,["onClick"]),Object(c["h"])("button",{type:" button",class:"btn btn-sm btn-outline-danger",onClick:function(e){return b.delOrder(t.id)}}," 刪除 ",8,["onClick"])])])])})),128))])])]),Object(c["h"])("div",o,[Object(c["h"])(O,{page:u.pagination,onGetData:b.getOrders},null,8,["page","onGetData"])]),Object(c["h"])(h,{order:u.tempOrder,onUpdateOrder:b.updateOrder,ref:"orderModal"},null,8,["order","onUpdateOrder"]),Object(c["h"])(p,{order:u.tempOrder,ref:"detailModal"},null,8,["order"]),Object(c["h"])(m,{order:u.tempOrder,status:u.status,onEmitStatus:b.updateOrder,ref:"statusModal"},null,8,["order","status","onEmitStatus"])],64)}var u=a("5530"),b=(a("99af"),a("1799")),O={id:"orderModal",class:"modal fade",tabindex:"-1","aria-labelledby":"orderModalLabel","aria-hidden":"true",ref:"modal"},h={class:"modal-dialog modal-xl"},p={class:"modal-content border-0"},m=Object(c["h"])("div",{class:"modal-header bg-dark text-white"},[Object(c["h"])("h5",{id:"orderModalLabel",class:"modal-title"},"編輯訂單"),Object(c["h"])("button",{type:"button",class:"btn-close bg-white","data-bs-dismiss":"modal","aria-label":"Close"})],-1),j={class:"modal-body"},f={class:"row"},g={class:"col-md-6"},v={class:"row mb-2"},x={class:"form-group col-md-6"},y=Object(c["h"])("label",{for:"id",class:"mb-2"},"訂單編號",-1),w={class:"form-group col-md-6"},k=Object(c["h"])("label",{for:"time",class:"mb-2"},"購買時間",-1),M={class:"row mb-2"},B={class:"form-group col-md-6"},C=Object(c["h"])("label",{class:"mb-2"},"是否付款",-1),_={key:0},E={key:1},I={key:0,class:"form-group col-md-6"},S=Object(c["h"])("label",{for:"paidTime",class:"mb-2"},"付款時間",-1),R={class:"row mb-2"},T={class:"form-group col-md-6"},$=Object(c["h"])("label",{for:"payment",class:"mb-2"},"付款方式",-1),U={class:"form-group col-md-6"},J=Object(c["h"])("label",{for:"message",class:"mb-2"},"留言",-1),A=Object(c["h"])("hr",null,null,-1),F={key:0,class:"row mb-2"},D={class:"form-group col-md-6"},L=Object(c["h"])("label",{for:"name",class:"mb-2"},"購買人姓名",-1),V={class:"form-group col-md-6"},N=Object(c["h"])("label",{for:"tel",class:"mb-2"},"購買人電話",-1),P={key:1,class:"row"},K={class:"form-group col-md-6"},Y=Object(c["h"])("label",{for:"address",class:"mb-2"},"購買人地址",-1),q={class:"form-group col-md-6"},G=Object(c["h"])("label",{for:"email",class:"mb-2"},"購買人信箱",-1),z={class:"col-md-6"},H=Object(c["h"])("h3",{class:"mb-3"},"產品資訊",-1),Q={class:"list-unstyled"},W={class:"modal-footer"},X=Object(c["h"])("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ",-1);function Z(t,e,a,n,l,r){return Object(c["t"])(),Object(c["d"])("div",O,[Object(c["h"])("div",h,[Object(c["h"])("div",p,[m,Object(c["h"])("div",j,[Object(c["h"])("div",f,[Object(c["h"])("div",g,[Object(c["h"])("div",v,[Object(c["h"])("div",x,[y,Object(c["J"])(Object(c["h"])("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=function(t){return l.tempOrder.id=t}),id:"id",class:"form-control bg-white border-0",readonly:""},null,512),[[c["F"],l.tempOrder.id]])]),Object(c["h"])("div",w,[k,Object(c["J"])(Object(c["h"])("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=function(t){return l.tempOrder.create_at=t}),id:"time",class:"form-control bg-white border-0",readonly:""},null,512),[[c["F"],l.tempOrder.create_at]])])]),Object(c["h"])("div",M,[Object(c["h"])("div",B,[C,Object(c["h"])("div",null,[l.tempOrder.is_paid?(Object(c["t"])(),Object(c["d"])("span",_,"已付款")):(Object(c["t"])(),Object(c["d"])("span",E,"未付款"))])]),l.tempOrder.is_paid?(Object(c["t"])(),Object(c["d"])("div",I,[S,Object(c["J"])(Object(c["h"])("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=function(t){return l.tempOrder.paid_date=t}),id:"paidTime",class:"form-control bg-white border-0",readonly:""},null,512),[[c["F"],l.tempOrder.paid_date]])])):Object(c["e"])("",!0)]),Object(c["h"])("div",R,[Object(c["h"])("div",T,[$,Object(c["J"])(Object(c["h"])("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=function(t){return l.tempOrder.payment_method=t}),id:"payment",class:"form-control"},null,512),[[c["F"],l.tempOrder.payment_method]])]),Object(c["h"])("div",U,[J,Object(c["J"])(Object(c["h"])("textarea",{type:"text","onUpdate:modelValue":e[5]||(e[5]=function(t){return l.tempOrder.message=t}),id:"message",class:"form-control bg-white",readonly:""},null,512),[[c["F"],l.tempOrder.message]])])]),A,l.tempOrder.user?(Object(c["t"])(),Object(c["d"])("div",F,[Object(c["h"])("div",D,[L,Object(c["J"])(Object(c["h"])("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=function(t){return l.tempOrder.user.name=t}),id:"name",class:"form-control"},null,512),[[c["F"],l.tempOrder.user.name]])]),Object(c["h"])("div",V,[N,Object(c["J"])(Object(c["h"])("input",{type:"number","onUpdate:modelValue":e[7]||(e[7]=function(t){return l.tempOrder.user.tel=t}),id:"tel",class:"form-control"},null,512),[[c["F"],l.tempOrder.user.tel,void 0,{number:!0}]])])])):Object(c["e"])("",!0),l.tempOrder.user?(Object(c["t"])(),Object(c["d"])("div",P,[Object(c["h"])("div",K,[Y,Object(c["J"])(Object(c["h"])("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=function(t){return l.tempOrder.user.address=t}),id:"address",class:"form-control"},null,512),[[c["F"],l.tempOrder.user.address]])]),Object(c["h"])("div",q,[G,Object(c["J"])(Object(c["h"])("input",{type:"email","onUpdate:modelValue":e[9]||(e[9]=function(t){return l.tempOrder.user.email=t}),id:"email",class:"form-control"},null,512),[[c["F"],l.tempOrder.user.email]])])])):Object(c["e"])("",!0)]),Object(c["h"])("div",z,[H,Object(c["h"])("ul",Q,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["x"])(l.tempOrder.products,(function(t){return Object(c["t"])(),Object(c["d"])("li",{key:t.id,class:"pb-2 mb-2"},[Object(c["h"])("p",null,"產品名稱 : "+Object(c["B"])(t.product.title),1),Object(c["h"])("p",null,"數量 : "+Object(c["B"])(t.qty)+" / "+Object(c["B"])(t.product.unit),1),Object(c["h"])("p",null,"小計 : NT$ "+Object(c["B"])(t.final_total),1)])})),128))])])])]),Object(c["h"])("div",W,[X,Object(c["h"])("button",{onClick:e[10]||(e[10]=function(e){return t.$emit("update-order",l.tempOrder)}),type:"button",class:"btn btn-primary"}," 確認 ")])])])],512)}var tt=a("9641"),et={props:["order"],data:function(){return{tempOrder:{}}},mixins:[tt["a"]],watch:{order:function(){this.tempOrder=this.order}}};et.render=Z;var at=et,ct={id:"detailModal",class:"modal fade",tabindex:"-1","aria-labelledby":"orderModalLabel","aria-hidden":"true",ref:"modal"},nt={class:"modal-dialog modal-xl"},lt={class:"modal-content border-0"},rt=Object(c["h"])("div",{class:"modal-header bg-dark text-white"},[Object(c["h"])("h5",{id:"orderModalLabel",class:"modal-title"},"查看訂單"),Object(c["h"])("button",{type:"button",class:"btn-close bg-white","data-bs-dismiss":"modal","aria-label":"Close"})],-1),st={class:"modal-body"},dt={class:"row"},ot={class:"col-md-6"},it=Object(c["h"])("h6",{class:"h3 mb-3"},"訂單資訊",-1),ut={class:"list-unstyled"},bt={class:"d-flex"},Ot=Object(c["h"])("p",{class:"me-2"},"訂單編號 :",-1),ht={class:"d-flex"},pt=Object(c["h"])("p",{class:"me-2"},"購買時間 :",-1),mt={class:"d-flex"},jt=Object(c["h"])("p",{class:"me-2"},"訂單狀態 :",-1),ft={key:0,class:"text-success"},gt={key:1},vt={class:"d-flex"},xt=Object(c["h"])("p",{class:"me-2"},"付款方式 :",-1),yt={class:"d-flex"},wt=Object(c["h"])("p",{class:"me-2"},"金額 :",-1),kt={class:"col-md-6"},Mt=Object(c["h"])("h6",{class:"h3 mb-3"},"顧客資訊",-1),Bt={key:0,class:"list-unstyled"},Ct={class:"d-flex"},_t=Object(c["h"])("p",{class:"me-2"},"顧客姓名 :",-1),Et={class:"d-flex"},It=Object(c["h"])("p",{class:"me-2"},"顧客電話 :",-1),St={class:"d-flex"},Rt=Object(c["h"])("p",{class:"me-2"},"顧客信箱 :",-1),Tt={class:"d-flex"},$t=Object(c["h"])("p",{class:"me-2"},"寄送地址 :",-1),Ut=Object(c["h"])("hr",null,null,-1),Jt=Object(c["h"])("h6",{class:"h3 mb-3"},"購買產品",-1),At={class:"list-unstyled d-flex"},Ft={class:"me-5"},Dt={class:"me-5"},Lt=Object(c["h"])("div",{class:"modal-footer"},[Object(c["h"])("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ")],-1);function Vt(t,e,a,n,l,r){return Object(c["t"])(),Object(c["d"])("div",ct,[Object(c["h"])("div",nt,[Object(c["h"])("div",lt,[rt,Object(c["h"])("div",st,[Object(c["h"])("div",dt,[Object(c["h"])("div",ot,[it,Object(c["h"])("ul",ut,[Object(c["h"])("li",bt,[Ot,Object(c["h"])("p",null,Object(c["B"])(l.tempOrder.id),1)]),Object(c["h"])("li",ht,[pt,Object(c["h"])("p",null,Object(c["B"])(l.tempOrder.create_at),1)]),Object(c["h"])("li",mt,[jt,Object(c["h"])("p",null,[l.tempOrder.is_enabled?(Object(c["t"])(),Object(c["d"])("span",ft,"已付款")):(Object(c["t"])(),Object(c["d"])("span",gt,"未付款"))])]),Object(c["h"])("li",vt,[xt,Object(c["h"])("p",null,Object(c["B"])(l.tempOrder.payment),1)]),Object(c["h"])("li",yt,[wt,Object(c["h"])("p",null,"NT$ "+Object(c["B"])(l.tempOrder.total),1)])])]),Object(c["h"])("div",kt,[Mt,l.tempOrder.user?(Object(c["t"])(),Object(c["d"])("ul",Bt,[Object(c["h"])("li",Ct,[_t,Object(c["h"])("p",null,Object(c["B"])(l.tempOrder.user.name),1)]),Object(c["h"])("li",Et,[It,Object(c["h"])("p",null,Object(c["B"])(l.tempOrder.user.tel),1)]),Object(c["h"])("li",St,[Rt,Object(c["h"])("p",null,Object(c["B"])(l.tempOrder.user.email),1)]),Object(c["h"])("li",Tt,[$t,Object(c["h"])("p",null,Object(c["B"])(l.tempOrder.user.address),1)])])):Object(c["e"])("",!0)]),Ut,Jt,Object(c["h"])("ul",At,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["x"])(l.tempOrder.products,(function(t){return Object(c["t"])(),Object(c["d"])("li",{key:t.id,class:"pb-2 mb-2"},[Object(c["h"])("p",Ft,"產品名稱 : "+Object(c["B"])(t.product.title),1),Object(c["h"])("p",Dt,"數量 : "+Object(c["B"])(t.qty)+" / "+Object(c["B"])(t.product.unit),1),Object(c["h"])("p",null,"小計 : NT$ "+Object(c["B"])(t.final_total),1)])})),128))])])]),Lt])])],512)}var Nt={props:["order"],data:function(){return{tempOrder:{}}},mixins:[tt["a"]],watch:{order:function(){this.tempOrder=this.order}}};Nt.render=Vt;var Pt=Nt,Kt={id:"statuModal",class:"modal fade",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},Yt={class:"modal-dialog modal-dialog-centered"},qt={class:"modal-content"},Gt=Object(c["h"])("div",{class:"modal-header bg-secondary text-white py-4"},[Object(c["h"])("h5",{class:"modal-title",id:"exampleModalLabel"},"選擇訂單狀態"),Object(c["h"])("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close"})],-1),zt={class:"modal-body"};function Ht(t,e,a,n,l,r){return Object(c["t"])(),Object(c["d"])("div",Kt,[Object(c["h"])("div",Yt,[Object(c["h"])("div",qt,[Gt,Object(c["h"])("div",zt,["wait"!==a.status?(Object(c["t"])(),Object(c["d"])("button",{key:0,class:"btn btn-outline-info me-4",onClick:e[1]||(e[1]=function(t){return r.updateStatus("wait")})}," 等待付款中 ")):Object(c["e"])("",!0),"handle"!==a.status?(Object(c["t"])(),Object(c["d"])("div",{key:1,class:"btn btn-outline-primary me-4",onClick:e[2]||(e[2]=function(t){return r.updateStatus("handle")})}," 處理中 ")):Object(c["e"])("",!0),"finish"!==a.status?(Object(c["t"])(),Object(c["d"])("div",{key:2,class:"btn btn-outline-success me-4",onClick:e[3]||(e[3]=function(t){return r.updateStatus("finish")})}," 完成 ")):Object(c["e"])("",!0),"cancel"!==a.status?(Object(c["t"])(),Object(c["d"])("div",{key:3,class:"btn btn-outline-secondary me-4",onClick:e[4]||(e[4]=function(t){return r.updateStatus("cancel")})}," 取消 ")):Object(c["e"])("",!0)])])])],512)}var Qt={props:{order:{type:Object},status:{type:String}},data:function(){return{tempOrder:{}}},watch:{order:function(){this.tempOrder=Object(u["a"])(Object(u["a"])({},this.order),{},{status:this.status})}},mixins:[tt["a"]],methods:{updateStatus:function(t){this.tempOrder.status=t,"handle"!==t&&"finish"!==t||(this.tempOrder.is_paid=!0,this.tempOrder.paid_date||(this.tempOrder.paid_date=Math.round((new Date).getTime()/1e3))),"wait"===t&&(this.tempOrder.is_paid=!1,this.tempOrder.paid_date=null),this.$emit("emit-status",this.tempOrder)}}};Qt.render=Ht;var Wt=Qt,Xt={name:"Orders",data:function(){return{orders:{},status:"",tempOrder:{},pagination:{}}},components:{Pagination:b["a"],OrderModal:at,DetailModal:Pt,StatusModal:Wt},mounted:function(){this.getOrders()},methods:{getOrders:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a="".concat("https://vue3-course-api.hexschool.io/","api/").concat("yangalice212","/admin/orders?page=").concat(e);this.$http.get(a).then((function(e){e.data.success?(t.orders=e.data.orders,t.pagination=e.data.pagination):alert(e.data.message)}))},openModal:function(t,e){var a=this.$refs,c=a.orderModal,n=a.detailModal,l=a.statusModal;switch(this.tempOrder=Object(u["a"])({},t),e){case"detail":n.openModal();break;case"edit":c.openModal();break;case"status":t.status?(this.status=t.status,console.log(t.is_paid)):(t.is_paid&&(this.status="handle"),this.status="wait"),l.openModal();break;default:break}},updateOrder:function(t){var e=this;this.isLoading=!0;var a=this.$refs,c=a.orderModal,n=a.statusModal,l="".concat("https://vue3-course-api.hexschool.io/","api/").concat("yangalice212","/admin/order/").concat(t.id);this.$http.put(l,{data:this.tempOrder}).then((function(t){t.data.success?(e.$swal({title:t.data.message}),c.hideModal(),n.hideModal(),e.getOrders(),e.isLoading=!1):(e.$swal({title:t.data.message,icon:"error",showCancelButton:!0,cancelButtonText:"取消"}),e.isLoading=!1)})).catch((function(t){console.log(t)}))},delOrder:function(t){var e=this,a="".concat("https://vue3-course-api.hexschool.io/","api/").concat("yangalice212","/admin/order/").concat(t);this.$swal({icon:"warning",title:"確定要刪除嗎？",showCancelButton:!0,confirmButtonText:"確定",cancelButtonText:"取消"}).then((function(t){t.isConfirmed&&e.$http.delete(a).then((function(t){t.data.success?(e.$swal(t.data.message,"","success"),e.getOrders()):e.$swal({title:t.data.message,icon:"error",showCancelButton:!0,cancelButtonText:"取消"})}))}))},delAllOrders:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("yangalice212","/admin/orders/all");this.$swal({icon:"warning",title:"確定要全部刪除嗎？",showCancelButton:!0,confirmButtonText:"確定",cancelButtonText:"取消"}).then((function(a){a.isConfirmed&&t.$http.delete(e).then((function(e){e.data.success?(t.$swal(e.data.message,"","success"),t.getOrders()):t.$swal({title:e.data.message,icon:"error",showCancelButton:!0,cancelButtonText:"取消"})}))}))}}};Xt.render=i;e["default"]=Xt},b0c0:function(t,e,a){var c=a("83ab"),n=a("9bf2").f,l=Function.prototype,r=l.toString,s=/^\s*function ([^ (]*)/,d="name";c&&!(d in l)&&n(l,d,{configurable:!0,get:function(){try{return r.call(this).match(s)[1]}catch(t){return""}}})},d784:function(t,e,a){"use strict";a("ac1f");var c=a("6eeb"),n=a("9263"),l=a("d039"),r=a("b622"),s=a("9112"),d=r("species"),o=RegExp.prototype;t.exports=function(t,e,a,i){var u=r(t),b=!l((function(){var e={};return e[u]=function(){return 7},7!=""[t](e)})),O=b&&!l((function(){var e=!1,a=/a/;return"split"===t&&(a={},a.constructor={},a.constructor[d]=function(){return a},a.flags="",a[u]=/./[u]),a.exec=function(){return e=!0,null},a[u](""),!e}));if(!b||!O||a){var h=/./[u],p=e(u,""[t],(function(t,e,a,c,l){var r=e.exec;return r===n||r===o.exec?b&&!l?{done:!0,value:h.call(e,a,c)}:{done:!0,value:t.call(a,e,c)}:{done:!1}}));c(String.prototype,t,p[0]),c(o,u,p[1])}i&&s(o[u],"sham",!0)}},fce3:function(t,e,a){var c=a("d039");t.exports=c((function(){var t=RegExp(".","string".charAt(0));return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))}}]);
//# sourceMappingURL=chunk-3b7f409a.ae9f947a.js.map